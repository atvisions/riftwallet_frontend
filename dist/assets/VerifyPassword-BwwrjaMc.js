import{d as _,u as y,r as i,c as n,h as s,G as f,g,K as h,B as P,z as b,L as V,F as v,e as d}from"./auth-B5jpq_BM.js";import{a as k,_ as S,u as C}from"./preload-helper-BHn8pG3Y.js";import{A as E}from"./index-DSub5CB9.js";import{_ as N}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./chrome-mock-BLIE_U1K.js";const x={class:"verify-password-page"},A={class:"header-section"},B={class:"app-name"},D={class:"form-section"},I={class:"input-group"},M={class:"input-wrapper"},z=["type"],F={key:0,class:"error-message"},G=["disabled"],R={key:0,class:"loading-spinner"},W={key:1},H=_({__name:"VerifyPassword",setup(K){const c=C(),w=y(),u=k(),o=i(""),t=i(!1),r=i(!1),a=i(""),m=async()=>{if(o.value)try{r.value=!0,a.value="",await w.verifyPaymentPassword(o.value)?(console.log("Password verification successful, checking wallet status"),await u.loadWallets(),u.wallets.length>0?(console.log("Has wallets, redirecting to home from verify password"),await c.replace("/")):(console.log("No wallets, redirecting to wallet choice from verify password"),await c.replace("/wallet-choice"))):a.value="Invalid password. Please try again."}catch(l){a.value=l instanceof Error?l.message:"Verification failed"}finally{r.value=!1}};return(l,e)=>(d(),n("div",x,[s("div",A,[e[2]||(e[2]=s("div",{class:"logo-container"},[s("img",{src:S,alt:"Riftwallet",class:"logo"})],-1)),s("h1",B,f(g(E).NAME),1),e[3]||(e[3]=s("p",{class:"form-description"}," Enter your password to access your wallet ",-1))]),s("div",D,[s("form",{onSubmit:h(m,["prevent"]),class:"password-form"},[s("div",I,[e[4]||(e[4]=s("label",{for:"password"},"Password",-1)),s("div",M,[b(s("input",{id:"password","onUpdate:modelValue":e[0]||(e[0]=p=>o.value=p),type:t.value?"text":"password",placeholder:"Enter your password",class:v(["password-input",{error:a.value}]),autofocus:""},null,10,z),[[V,o.value]]),s("button",{type:"button",onClick:e[1]||(e[1]=p=>t.value=!t.value),class:"toggle-password"},[s("i",{class:v(t.value?"ri-eye-off-line":"ri-eye-line")},null,2)])]),a.value?(d(),n("div",F,f(a.value),1)):P("",!0)]),s("button",{type:"submit",disabled:!o.value||r.value,class:"submit-btn"},[r.value?(d(),n("div",R)):(d(),n("span",W,"Verify Password"))],8,G)],32)])]))}}),q=N(H,[["__scopeId","data-v-e9bae06e"]]);export{q as default};
