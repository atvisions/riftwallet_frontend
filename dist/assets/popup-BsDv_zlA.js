const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/HomeSidePanel-GxudGSSW.js","assets/preload-helper-BHn8pG3Y.js","assets/auth-B5jpq_BM.js","assets/chrome-mock-BLIE_U1K.js","assets/index-DSub5CB9.js","assets/auth-Bt6g8DFh.css","assets/ResponsiveLayout-C3TjrDlY.js","assets/_plugin-vue_export-helper-DlAUqK2U.js","assets/ResponsiveLayout-BFoF_MqF.css","assets/BottomNavigation-XMncpPi2.js","assets/BottomNavigation-Ma6mpoLf.css","assets/HomeSidePanel-DYmfi1vY.css","assets/WalletDetail-zRbgI5B3.js","assets/PageContainer-Qetv8PV3.js","assets/PageContainer-i-iefNqf.css","assets/WalletDetail-CLOgQaXk.css","assets/Send-BGBl1ygk.js","assets/Send-ClvYeh_J.css","assets/Receive-Bx5RyRJ-.js","assets/Receive-R3ZellD5.css","assets/Swap-BFqO6w-P.js","assets/Swap-CN9AEZl2.css","assets/History-CkUAm_dk.js","assets/History-BjiwxFEk.css","assets/Markets-DSe2MkDI.js","assets/Markets-BkfCZz66.css","assets/Trade-D5UIiH3B.js","assets/Trade-CAwXkObq.css","assets/Discover-Hg65oWPH.js","assets/Discover-6_4uk41H.css","assets/Settings-Du94-p-G.js","assets/Settings-8ohTD6HL.css","assets/ImportWallet-DsjGSipK.js","assets/ImportWallet-D5sdy48X.css","assets/ImportMnemonic-Dq1gg06n.js","assets/ImportMnemonic-EqjGc3rc.css","assets/ImportMnemonicInput-CA5pFrx8.js","assets/ImportMnemonicInput-kebbxO-V.css","assets/ImportPrivateKey-1HF4ec41.js","assets/ImportPrivateKey-B7FzTmkl.css","assets/ImportPrivateKeySelectChain-PrMngB9i.js","assets/ImportPrivateKeySelectChain-D0mAeHWu.css","assets/ImportPrivateKeyInput-XssnK4Di.js","assets/ImportPrivateKeyInput-B4CjJsPz.css","assets/WalletImportLoading-B2vOUyC_.js","assets/WalletImportLoading-TKZgXiZf.css","assets/SetupPassword-w_yBVWd_.js","assets/SetupPassword-Yy2yLFDT.css","assets/VerifyPassword-BwwrjaMc.js","assets/VerifyPassword-D_ydgAFI.css","assets/WalletChoice-BVTwtMLW.js","assets/WalletChoice-BSbLac8J.css","assets/SelectChain-C9LNP5cx.js","assets/SelectChain-DoByREkS.css","assets/VerifyMnemonic-D9l6d-Gd.js","assets/VerifyMnemonic-f4KZEEGA.css","assets/ConfirmMnemonic-l06n0Uu4.js","assets/ConfirmMnemonic-DpwDXcPj.css","assets/CreateWalletPassword-fUQylwLp.js","assets/CreateWalletPassword-DhzqAkPh.css"])))=>i.map(i=>d[i]);
import{u as l,d as v,r as w,o as g,w as f,a as P,b as E,c as u,e as _,f as y,g as I,h as c,i as R,j as S,k as A}from"./auth-B5jpq_BM.js";import{u as h,a as V,_ as k,b as e,c as D,d as L}from"./preload-helper-BHn8pG3Y.js";import"./index-DSub5CB9.js";/* empty css             */import"./chrome-mock-BLIE_U1K.js";let r=null;function T(){r&&clearInterval(r),r=setInterval(async()=>{const s=l();await s.checkPasswordSession(),s.hasPaymentPassword&&!s.isPasswordSessionValid&&(console.log("Session expired during periodic check, redirecting to verify password"),await s.clearPasswordSession(),h().push("/verify-password"))},5*60*1e3),console.log("Session check started")}function O(){r&&(clearInterval(r),r=null,console.log("Session check stopped"))}async function C(){await l().setPasswordSession(),console.log("Session refreshed")}function W(){const s=["mousedown","mousemove","keypress","scroll","touchstart"];let a=Date.now();const p=async()=>{const o=Date.now();o-a>5*60*1e3&&l().isPasswordSessionValid&&await C(),a=o};s.forEach(o=>{document.addEventListener(o,p,!0)}),console.log("Activity-based session refresh enabled")}const b={id:"app",class:"wallet-app"},z={key:0,class:"loading-screen"},M=v({__name:"App",setup(s){const a=h(),p=V(),o=l(),n=w(!1);return g(async()=>{try{if(n.value){console.log("App already initialized, skipping");return}await o.initialize(),console.log("Auth state:",{needsPasswordSetup:o.needsPasswordSetup,hasPaymentPassword:o.hasPaymentPassword,canAccessWallet:o.canAccessWallet,isPasswordSessionValid:o.isPasswordSessionValid,currentRoute:a.currentRoute.value.path});const t=a.currentRoute.value.path;t==="/"||t==="/popup.html"?(console.log("Executing routing logic for path:",t),o.hasPaymentPassword?o.isPasswordSessionValid?(console.log("Password set and session valid, checking wallet status"),await p.loadWallets(),p.wallets.length>0?console.log("Has wallets, staying on home page"):(console.log("No wallets found, redirecting to wallet choice"),await a.replace("/wallet-choice"))):(console.log("Password set but session expired, redirecting to verify password"),await a.replace("/verify-password")):(console.log("No password set, redirecting to setup password"),await a.replace("/setup-password"))):console.log("Skipping routing logic for non-root path:",t),o.hasPaymentPassword&&(T(),W()),await a.isReady(),n.value=!0,console.log("App initialization completed")}catch(t){console.error("Failed to initialize app:",t),n.value=!0}}),f(()=>a.currentRoute.value.path,async(t,i)=>{if(console.log("Route changed from",i,"to",t),i==="/verify-password"&&t==="/"){console.log("Skipping route logic after password verification");return}if(i==="/wallet-choice"&&t==="/"){console.log("Skipping route logic after wallet creation/import");return}if(["/import-wallet","/import-mnemonic","/import-private-key","/import-private-key-select-chain","/import-private-key-input","/wallet-import-loading"].includes(i)&&t==="/"){console.log("Skipping route logic after wallet import");return}t==="/"&&n.value&&o.hasPaymentPassword&&!o.isPasswordSessionValid&&(console.log("Session expired, redirecting to verify password"),a.push("/verify-password"))}),P(()=>{O()}),(t,i)=>{const d=E("router-view");return _(),u("div",b,[I(o).loading||!n.value?(_(),u("div",z,i[0]||(i[0]=[c("div",{class:"loading-content"},[c("img",{src:k,alt:"Riftwallet",class:"loading-logo"}),c("div",{class:"loading-spinner"}),c("p",null,"Initializing Riftwallet...")],-1)]))):(_(),y(d,{key:1}))])}}}),x=[{path:"/",name:"Home",component:()=>e(()=>import("./HomeSidePanel-GxudGSSW.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11]))},{path:"/wallet/:id",name:"WalletDetail",component:()=>e(()=>import("./WalletDetail-zRbgI5B3.js"),__vite__mapDeps([12,1,2,3,4,5,13,7,14,15]))},{path:"/send",name:"Send",component:()=>e(()=>import("./Send-BGBl1ygk.js"),__vite__mapDeps([16,2,3,4,5,1,13,7,14,17]))},{path:"/receive",name:"Receive",component:()=>e(()=>import("./Receive-Bx5RyRJ-.js"),__vite__mapDeps([18,1,2,3,4,5,13,7,14,19]))},{path:"/swap",name:"Swap",component:()=>e(()=>import("./Swap-BFqO6w-P.js"),__vite__mapDeps([20,13,2,3,4,5,1,7,14,21]))},{path:"/history",name:"History",component:()=>e(()=>import("./History-CkUAm_dk.js"),__vite__mapDeps([22,13,2,3,4,5,1,7,14,23]))},{path:"/markets",name:"Markets",component:()=>e(()=>import("./Markets-DSe2MkDI.js"),__vite__mapDeps([24,6,2,3,4,5,7,8,9,1,10,25]))},{path:"/trade",name:"Trade",component:()=>e(()=>import("./Trade-D5UIiH3B.js"),__vite__mapDeps([26,2,3,4,5,6,7,8,9,1,10,27]))},{path:"/discover",name:"Discover",component:()=>e(()=>import("./Discover-Hg65oWPH.js"),__vite__mapDeps([28,6,2,3,4,5,7,8,9,1,10,29]))},{path:"/settings",name:"Settings",component:()=>e(()=>import("./Settings-Du94-p-G.js"),__vite__mapDeps([30,2,3,4,5,1,6,7,8,9,10,31]))},{path:"/import-wallet",name:"ImportWallet",component:()=>e(()=>import("./ImportWallet-DsjGSipK.js"),__vite__mapDeps([32,1,2,3,4,5,13,7,14,33]))},{path:"/import-mnemonic",name:"ImportMnemonic",component:()=>e(()=>import("./ImportMnemonic-Dq1gg06n.js"),__vite__mapDeps([34,2,3,4,5,1,13,7,14,35]))},{path:"/import-mnemonic-input",name:"ImportMnemonicInput",component:()=>e(()=>import("./ImportMnemonicInput-CA5pFrx8.js"),__vite__mapDeps([36,2,3,4,5,1,13,7,14,37]))},{path:"/import-private-key",name:"ImportPrivateKey",component:()=>e(()=>import("./ImportPrivateKey-1HF4ec41.js"),__vite__mapDeps([38,2,3,4,5,1,13,7,14,39]))},{path:"/import-private-key-select-chain",name:"ImportPrivateKeySelectChain",component:()=>e(()=>import("./ImportPrivateKeySelectChain-PrMngB9i.js"),__vite__mapDeps([40,1,2,3,4,5,13,7,14,41]))},{path:"/import-private-key-input",name:"ImportPrivateKeyInput",component:()=>e(()=>import("./ImportPrivateKeyInput-XssnK4Di.js"),__vite__mapDeps([42,2,3,4,5,1,13,7,14,43]))},{path:"/wallet-import-loading",name:"WalletImportLoading",component:()=>e(()=>import("./WalletImportLoading-B2vOUyC_.js"),__vite__mapDeps([44,1,2,3,4,5,7,45]))},{path:"/setup-password",name:"SetupPassword",component:()=>e(()=>import("./SetupPassword-w_yBVWd_.js"),__vite__mapDeps([46,2,3,4,5,1,7,47]))},{path:"/verify-password",name:"VerifyPassword",component:()=>e(()=>import("./VerifyPassword-BwwrjaMc.js"),__vite__mapDeps([48,2,3,4,5,1,7,49]))},{path:"/wallet-choice",name:"WalletChoice",component:()=>e(()=>import("./WalletChoice-BVTwtMLW.js"),__vite__mapDeps([50,1,2,3,4,5,6,7,8,51]))},{path:"/select-chain",name:"SelectChain",component:()=>e(()=>import("./SelectChain-C9LNP5cx.js"),__vite__mapDeps([52,1,2,3,4,5,13,7,14,53]))},{path:"/verify-mnemonic",name:"VerifyMnemonic",component:()=>e(()=>import("./VerifyMnemonic-D9l6d-Gd.js"),__vite__mapDeps([54,1,2,3,4,5,13,7,14,55]))},{path:"/confirm-mnemonic",name:"ConfirmMnemonic",component:()=>e(()=>import("./ConfirmMnemonic-l06n0Uu4.js"),__vite__mapDeps([56,2,3,4,5,1,13,7,14,57]))},{path:"/create-wallet-password",name:"CreateWalletPassword",component:()=>e(()=>import("./CreateWalletPassword-fUQylwLp.js"),__vite__mapDeps([58,2,3,4,5,1,13,7,14,59]))}],H=D({history:L(),routes:x}),m=R(M);m.use(S());m.use(H);m.use(A);m.mount("#app");
