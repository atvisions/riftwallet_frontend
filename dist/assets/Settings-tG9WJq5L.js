const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/auth-DQh_hvla.js","assets/chrome-mock-wjw8bMAV.js","assets/auth-Bt6g8DFh.css"])))=>i.map(i=>d[i]);
import{u as T,b as V}from"./preload-helper-gab_YaoT.js";import{d as B,r,o as N,w as I,g as D,F as c,h as g,f as E,i as s,A as u,D as v,m as p}from"./auth-DQh_hvla.js";import{R as F}from"./ResponsiveLayout-DxLVppIv.js";import{B as R,T as U}from"./BottomNavigation-CgkotWda.js";import{g as m}from"./chrome-mock-wjw8bMAV.js";import{_ as G}from"./_plugin-vue_export-helper-DlAUqK2U.js";const H={class:"settings-content"},O={class:"settings-section"},j={class:"settings-list"},q={class:"setting-item"},z={class:"setting-toggle"},J={class:"settings-section"},K={class:"settings-list"},Q={class:"setting-item"},X={class:"setting-toggle"},Y=B({__name:"Settings",props:{mode:{}},setup(w){const k=w,f=window.location.href.includes("sidepanel")||window.location.pathname.includes("sidepanel"),d=k.mode||(f?"sidepanel":"popup"),n=T(),o=r(!0),a=r(30),l=r(!0),y=async()=>{try{const i=(await m().get(["settings"])).settings||{};o.value=i.autoLock!==!1,a.value=i.lockTimeout||30,l.value=i.darkMode!==!1,console.log("Settings loaded:",i)}catch(e){console.error("Failed to load settings:",e)}},b=async()=>{try{const e=m(),t={autoLock:o.value,lockTimeout:a.value,darkMode:l.value};await e.set({settings:t}),console.log("Settings saved:",t)}catch(e){console.error("Failed to save settings:",e)}};N(()=>{y()}),I([o,a,l],()=>{b()},{deep:!0});const S=()=>{n.push("/select-chain")},h=()=>{n.push("/import-wallet")},x=()=>{console.log("Export wallet...")},C=()=>{n.push("/change-password")},P=()=>{console.log("Manage networks...")},M=()=>{window.open("https://www.riftwallet.io/privacy-policy/","_blank")},W=()=>{window.open("https://www.riftwallet.io/about/","_blank")},L=async()=>{try{const{useAuthStore:e}=await V(async()=>{const{useAuthStore:i}=await import("./auth-DQh_hvla.js").then(A=>A.P);return{useAuthStore:i}},__vite__mapDeps([0,1,2]));await e().clearPasswordSession(),n.push("/verify-password"),console.log("Wallet locked successfully")}catch(e){console.error("Failed to lock wallet:",e)}};return(e,t)=>(E(),D(F,{title:"Wallet","show-header":!0,"show-footer":!0,mode:g(d),scrollable:!0},{header:c(()=>[p(U,{mode:g(d)},null,8,["mode"])]),footer:c(()=>[p(R)]),default:c(()=>[s("div",H,[s("div",{class:"settings-section"},[t[5]||(t[5]=s("h3",{class:"section-title"},"Wallet Management",-1)),s("div",{class:"settings-list"},[s("div",{class:"setting-item",onClick:S},t[2]||(t[2]=[s("div",{class:"setting-icon"},[s("i",{class:"ri-add-line"})],-1),s("div",{class:"setting-info"},[s("div",{class:"setting-name"},"Create Wallet"),s("div",{class:"setting-desc"},"Generate a new wallet")],-1),s("i",{class:"ri-arrow-right-s-line"},null,-1)])),s("div",{class:"setting-item",onClick:h},t[3]||(t[3]=[s("div",{class:"setting-icon"},[s("i",{class:"ri-download-line"})],-1),s("div",{class:"setting-info"},[s("div",{class:"setting-name"},"Import Wallet"),s("div",{class:"setting-desc"},"Import existing wallet")],-1),s("i",{class:"ri-arrow-right-s-line"},null,-1)])),s("div",{class:"setting-item",onClick:x},t[4]||(t[4]=[s("div",{class:"setting-icon"},[s("i",{class:"ri-upload-line"})],-1),s("div",{class:"setting-info"},[s("div",{class:"setting-name"},"Export Wallet"),s("div",{class:"setting-desc"},"Backup your wallet")],-1),s("i",{class:"ri-arrow-right-s-line"},null,-1)]))])]),s("div",O,[t[10]||(t[10]=s("h3",{class:"section-title"},"Security",-1)),s("div",j,[s("div",{class:"setting-item",onClick:C},t[6]||(t[6]=[s("div",{class:"setting-icon"},[s("i",{class:"ri-lock-line"})],-1),s("div",{class:"setting-info"},[s("div",{class:"setting-name"},"Change Password"),s("div",{class:"setting-desc"},"Update your password")],-1),s("i",{class:"ri-arrow-right-s-line"},null,-1)])),s("div",q,[t[8]||(t[8]=s("div",{class:"setting-icon"},[s("i",{class:"ri-shield-line"})],-1)),t[9]||(t[9]=s("div",{class:"setting-info"},[s("div",{class:"setting-name"},"Auto-lock"),s("div",{class:"setting-desc"},"Lock wallet after 30 minutes of inactivity")],-1)),s("div",z,[u(s("input",{type:"checkbox","onUpdate:modelValue":t[0]||(t[0]=i=>o.value=i),id:"autoLock"},null,512),[[v,o.value]]),t[7]||(t[7]=s("label",{for:"autoLock",class:"toggle-label"},null,-1))])])])]),s("div",{class:"settings-section"},[t[12]||(t[12]=s("h3",{class:"section-title"},"Network",-1)),s("div",{class:"settings-list"},[s("div",{class:"setting-item",onClick:P},t[11]||(t[11]=[s("div",{class:"setting-icon"},[s("i",{class:"ri-global-line"})],-1),s("div",{class:"setting-info"},[s("div",{class:"setting-name"},"Manage Networks"),s("div",{class:"setting-desc"},"Add or remove networks")],-1),s("i",{class:"ri-arrow-right-s-line"},null,-1)]))])]),s("div",J,[t[18]||(t[18]=s("h3",{class:"section-title"},"Preferences",-1)),s("div",K,[s("div",Q,[t[14]||(t[14]=s("div",{class:"setting-icon"},[s("i",{class:"ri-palette-line"})],-1)),t[15]||(t[15]=s("div",{class:"setting-info"},[s("div",{class:"setting-name"},"Dark Mode"),s("div",{class:"setting-desc"},"Toggle dark theme")],-1)),s("div",X,[u(s("input",{type:"checkbox","onUpdate:modelValue":t[1]||(t[1]=i=>l.value=i),id:"darkMode"},null,512),[[v,l.value]]),t[13]||(t[13]=s("label",{for:"darkMode",class:"toggle-label"},null,-1))])]),s("div",{class:"setting-item",onClick:M},t[16]||(t[16]=[s("div",{class:"setting-icon"},[s("i",{class:"ri-shield-user-line"})],-1),s("div",{class:"setting-info"},[s("div",{class:"setting-name"},"Privacy Policy"),s("div",{class:"setting-desc"},"View our privacy policy")],-1),s("i",{class:"ri-external-link-line"},null,-1)])),s("div",{class:"setting-item",onClick:W},t[17]||(t[17]=[s("div",{class:"setting-icon"},[s("i",{class:"ri-information-line"})],-1),s("div",{class:"setting-info"},[s("div",{class:"setting-name"},"About"),s("div",{class:"setting-desc"},"Version and info")],-1),s("i",{class:"ri-external-link-line"},null,-1)]))])]),s("div",{class:"lock-section"},[s("button",{class:"lock-button",onClick:L},t[19]||(t[19]=[s("i",{class:"ri-lock-line"},null,-1),s("span",null,"Lock Wallet",-1)]))])])]),_:1},8,["mode"]))}}),is=G(Y,[["__scopeId","data-v-ac9d3980"]]);export{is as default};
