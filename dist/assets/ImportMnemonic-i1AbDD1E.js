import{d as I,b as t,c as D,k as l,q as o,A as _,F as W,G as P,y as k,C as x,E as g,D as n,M as A,I as M,l as r}from"./main-Bf4zo9mQ.js";import{a as N,u as T}from"./popup-TD7wOOC_.js";import{_ as V}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./chrome-mock-B1Y85l16.js";import"./index-DcL2QsEm.js";const K={class:"import-mnemonic-page"},R={class:"header"},$={class:"content"},H={class:"form-container"},L={class:"form-group"},F={class:"chain-selector"},O=["onClick"],U=["src","alt"],q={class:"chain-name"},z={class:"chain-code"},G={class:"form-group"},j={key:0,class:"error-message"},J={class:"form-group"},Q={class:"password-input-container"},X=["type"],Y={key:0,class:"error-message"},Z=["disabled"],ee={key:0,class:"ri-loader-4-line spinning"},oe={key:1,class:"ri-download-line"},se={key:0,class:"error-alert"},te=I({__name:"ImportMnemonic",setup(ae){const y=T(),v=N(),i=t("ETH"),d=t(""),c=t(""),w=t(!1),u=t(!1),h=t(""),p=t(""),m=t(""),b=[{code:"ETH",name:"Ethereum",logo:"https://www.riftwallet.io/media/chain_logos/ETH.png"},{code:"BSC",name:"BNB Chain",logo:"https://www.riftwallet.io/media/chain_logos/BSC.png"},{code:"BASE",name:"Base",logo:"https://www.riftwallet.io/media/chain_logos/BASE.png"},{code:"SOL",name:"Solana",logo:"https://www.riftwallet.io/media/chain_logos/SOL.png"},{code:"KDA",name:"Kadena",logo:"https://www.riftwallet.io/media/chain_logos/KDA.png"}],C=D(()=>d.value.trim()&&c.value.trim()&&i.value),E=()=>d.value.trim().split(/\s+/).length!==12?(p.value="Recovery phrase must contain 12 words",!1):(p.value="",!0),B=()=>c.value.length<8?(m.value="Password must be at least 8 characters",!1):(m.value="",!0),S=async()=>{if(!(!E()||!B()))try{u.value=!0,h.value="";const a={mnemonic:d.value.trim(),chain:i.value,payment_password:c.value,kadena_chain_id:i.value==="KDA"?"0":void 0},e=await v.importWallet(a);await v.loadWallets();const s=v.wallets.find(f=>f.address===e.address&&f.chain===e.chain);s&&(v.setCurrentWallet(s),console.log("Wallet import completed, redirecting to home")),y.push("/")}catch(a){h.value=a instanceof Error?a.message:"Import failed, please check if the recovery phrase is correct"}finally{u.value=!1}};return(a,e)=>(r(),l("div",K,[o("div",R,[o("button",{onClick:e[0]||(e[0]=s=>a.$router.go(-1)),class:"back-btn"},e[4]||(e[4]=[o("i",{class:"ri-arrow-left-line"},null,-1)])),e[5]||(e[5]=o("h1",null,"Import Recovery Phrase",-1))]),o("div",$,[o("div",H,[o("div",L,[e[6]||(e[6]=o("label",null,"Select Blockchain Network",-1)),o("div",F,[(r(),l(W,null,P(b,s=>o("div",{key:s.code,class:g(["chain-option",{active:i.value===s.code}]),onClick:f=>i.value=s.code},[o("img",{src:s.logo,alt:s.name,class:"chain-logo"},null,8,U),o("span",q,n(s.name),1),o("span",z,n(s.code),1)],10,O)),64))])]),o("div",G,[e[7]||(e[7]=o("label",null,"Recovery Phrase",-1)),e[8]||(e[8]=o("p",{class:"form-hint"},"Enter your 12-word recovery phrase, separated by spaces",-1)),k(o("textarea",{"onUpdate:modelValue":e[1]||(e[1]=s=>d.value=s),class:g(["mnemonic-input",{error:p.value}]),placeholder:"Enter your 12-word recovery phrase...",rows:"4"},null,2),[[x,d.value]]),p.value?(r(),l("div",j,n(p.value),1)):_("",!0)]),o("div",J,[e[9]||(e[9]=o("label",null,"Payment Password",-1)),e[10]||(e[10]=o("p",{class:"form-hint"},"Enter your payment password to protect the wallet",-1)),o("div",Q,[k(o("input",{"onUpdate:modelValue":e[2]||(e[2]=s=>c.value=s),type:w.value?"text":"password",class:g(["password-input",{error:m.value}]),placeholder:"Enter payment password"},null,10,X),[[A,c.value]]),o("button",{type:"button",class:"password-toggle",onClick:e[3]||(e[3]=s=>w.value=!w.value)},[o("i",{class:g(w.value?"ri-eye-off-line":"ri-eye-line")},null,2)])]),m.value?(r(),l("div",Y,n(m.value),1)):_("",!0)]),o("button",{class:"import-btn",disabled:!C.value||u.value,onClick:S},[u.value?(r(),l("i",ee)):(r(),l("i",oe)),M(" "+n(u.value?"Importing...":"Import Wallet"),1)],8,Z),h.value?(r(),l("div",se,[e[11]||(e[11]=o("i",{class:"ri-error-warning-line"},null,-1)),o("span",null,n(h.value),1)])):_("",!0)])])]))}}),ce=V(te,[["__scopeId","data-v-69acd55b"]]);export{ce as default};
