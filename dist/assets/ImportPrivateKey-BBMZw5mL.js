import{d as D,b as o,c as A,k as l,q as e,A as g,F as S,G as E,D as i,y as C,C as W,E as m,z as $,M as N,I as V,l as r}from"./main-Bf4zo9mQ.js";import{a as L,u as T}from"./popup-TD7wOOC_.js";import{_ as F}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./chrome-mock-B1Y85l16.js";import"./index-DcL2QsEm.js";const H={class:"import-private-key-page"},M={class:"header"},O={class:"content"},z={class:"form-container"},U={class:"form-group"},q={class:"chain-selector"},G=["onClick"],J=["src","alt"],R={class:"chain-name"},Z={class:"chain-code"},j={class:"form-group"},Q={class:"form-hint"},X={class:"private-key-input-container"},Y=["type"],ee={key:0,class:"error-message"},te={key:0,class:"form-group"},ae=["value"],se={class:"form-group"},oe={class:"password-input-container"},le=["type"],re={key:0,class:"error-message"},ne=["disabled"],ie={key:0,class:"ri-loader-4-line spinning"},de={key:1,class:"ri-key-line"},ue={key:1,class:"error-alert"},ce=D({__name:"ImportPrivateKey",setup(pe){const b=T(),y=L(),n=o("ETH"),u=o(""),c=o(""),_=o("0"),h=o(!1),f=o(!1),p=o(!1),w=o(""),d=o(""),v=o(""),K=[{code:"ETH",name:"Ethereum",logo:"https://www.riftwallet.io/media/chain_logos/ETH.png"},{code:"BSC",name:"BNB Chain",logo:"https://www.riftwallet.io/media/chain_logos/BSC.png"},{code:"BASE",name:"Base",logo:"https://www.riftwallet.io/media/chain_logos/BASE.png"},{code:"SOL",name:"Solana",logo:"https://www.riftwallet.io/media/chain_logos/SOL.png"},{code:"KDA",name:"Kadena",logo:"https://www.riftwallet.io/media/chain_logos/KDA.png"}],x=A(()=>u.value.trim()&&c.value.trim()&&n.value),B=()=>{const s=u.value.trim().replace(/^0x/,"");if(n.value==="SOL"){if(!/^[1-9A-HJ-NP-Za-km-z]{87,88}$/.test(s)&&!/^[a-fA-F0-9]{64}$/.test(s))return d.value="Solana private key must be Base58 encoded (87-88 characters) or 64-character hexadecimal string",!1}else if(!/^[a-fA-F0-9]{64}$/.test(s))return d.value="Private key must be a 64-character hexadecimal string",!1;return d.value="",!0},I=()=>c.value.length<8?(v.value="Password must be at least 8 characters",!1):(v.value="",!0),P=async()=>{if(!(!B()||!I()))try{p.value=!0,w.value="";const s={private_key:u.value.trim().replace(/^0x/,""),chain:n.value,payment_password:c.value,kadena_chain_id:n.value==="KDA"?_.value:"0"},t=await y.importWallet(s);await y.loadWallets();const a=y.wallets.find(k=>k.address===t.address&&k.chain===t.chain);a&&(y.setCurrentWallet(a),console.log("Wallet import completed, redirecting to home")),b.push("/")}catch(s){w.value=s instanceof Error?s.message:"Import failed, please check if the private key is correct"}finally{p.value=!1}};return(s,t)=>(r(),l("div",H,[e("div",M,[e("button",{onClick:t[0]||(t[0]=a=>s.$router.go(-1)),class:"back-btn"},t[6]||(t[6]=[e("i",{class:"ri-arrow-left-line"},null,-1)])),t[7]||(t[7]=e("h1",null,"Import Private Key",-1))]),e("div",O,[e("div",z,[e("div",U,[t[8]||(t[8]=e("label",null,"Select Blockchain Network",-1)),e("div",q,[(r(),l(S,null,E(K,a=>e("div",{key:a.code,class:m(["chain-option",{active:n.value===a.code}]),onClick:k=>n.value=a.code},[e("img",{src:a.logo,alt:a.name,class:"chain-logo"},null,8,J),e("span",R,i(a.name),1),e("span",Z,i(a.code),1)],10,G)),64))])]),e("div",j,[t[9]||(t[9]=e("label",null,"Private Key",-1)),e("p",Q,i(n.value==="SOL"?"Enter your private key (Base58 encoded or 64-character hexadecimal string)":"Enter your private key (64-character hexadecimal string)"),1),e("div",X,[C(e("textarea",{"onUpdate:modelValue":t[1]||(t[1]=a=>u.value=a),type:h.value?"text":"password",class:m(["private-key-input",{error:d.value}]),placeholder:"Enter your private key...",rows:"3"},null,10,Y),[[W,u.value]]),e("button",{type:"button",class:"private-key-toggle",onClick:t[2]||(t[2]=a=>h.value=!h.value)},[e("i",{class:m(h.value?"ri-eye-off-line":"ri-eye-line")},null,2)])]),d.value?(r(),l("div",ee,i(d.value),1)):g("",!0)]),n.value==="KDA"?(r(),l("div",te,[t[10]||(t[10]=e("label",null,"Kadena Chain ID",-1)),t[11]||(t[11]=e("p",{class:"form-hint"},"Select Kadena Chain ID (0-19)",-1)),C(e("select",{"onUpdate:modelValue":t[3]||(t[3]=a=>_.value=a),class:"chain-id-select"},[(r(),l(S,null,E(20,a=>e("option",{key:a-1,value:(a-1).toString()},"Chain "+i(a-1),9,ae)),64))],512),[[$,_.value]])])):g("",!0),e("div",se,[t[12]||(t[12]=e("label",null,"Payment Password",-1)),t[13]||(t[13]=e("p",{class:"form-hint"},"Enter your payment password to protect the wallet",-1)),e("div",oe,[C(e("input",{"onUpdate:modelValue":t[4]||(t[4]=a=>c.value=a),type:f.value?"text":"password",class:m(["password-input",{error:v.value}]),placeholder:"Enter payment password"},null,10,le),[[N,c.value]]),e("button",{type:"button",class:"password-toggle",onClick:t[5]||(t[5]=a=>f.value=!f.value)},[e("i",{class:m(f.value?"ri-eye-off-line":"ri-eye-line")},null,2)])]),v.value?(r(),l("div",re,i(v.value),1)):g("",!0)]),e("button",{class:"import-btn",disabled:!x.value||p.value,onClick:P},[p.value?(r(),l("i",ie)):(r(),l("i",de)),V(" "+i(p.value?"Importing...":"Import Wallet"),1)],8,ne),w.value?(r(),l("div",ue,[t[14]||(t[14]=e("i",{class:"ri-error-warning-line"},null,-1)),e("span",null,i(w.value),1)])):g("",!0)])])]))}}),we=F(ce,[["__scopeId","data-v-19e2a209"]]);export{we as default};
