const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/route-guard-DLJCyfIx.js","assets/auth-6eK4OsPi.js","assets/chrome-mock-BbAbqiJG.js","assets/auth-Bt6g8DFh.css","assets/auth-handler-CmfhYZP0.js","assets/HomeSidePanel-XJYCydPi.js","assets/ResponsiveLayout-bP3B-uVa.js","assets/_plugin-vue_export-helper-DlAUqK2U.js","assets/ResponsiveLayout-DY9OWmIU.css","assets/BottomNavigation-DTf4cNDf.js","assets/BottomNavigation-BwEQ4zmz.css","assets/HomeSidePanel-DyH-Bi2H.css","assets/WalletDetail-SKR7oqmR.js","assets/PageHeader-S_2U60ij.js","assets/PageHeader-Deg_r7Vb.css","assets/WalletDetail-DEI2oHnH.css","assets/RenameWallet-Dkar8ogj.js","assets/RenameWallet-CVATTyue.css","assets/ShowPrivateKey-CS9rUbl_.js","assets/ShowPrivateKey-Ca_JlDQT.css","assets/DeleteWallet-DWAHpZA5.js","assets/DeleteWallet-0FvFlpt1.css","assets/Send-D21wwMNY.js","assets/Send-CMRKXDDv.css","assets/Receive-CccXwNrX.js","assets/Receive-CvPgX43_.css","assets/Swap-B5h6OtQU.js","assets/Swap-CIx_PKQ1.css","assets/History-mKVNF6Kr.js","assets/History-EELgDIjH.css","assets/Markets-DxGGPs9y.js","assets/Markets-B6QsmIcU.css","assets/Trade-4OJ_d9cM.js","assets/Trade-C0OKoTpO.css","assets/Discover-DJX48QUF.js","assets/Discover-Bbctwgag.css","assets/Settings-CAcBDQYC.js","assets/Settings-DF8BH8-5.css","assets/ChangePassword-CRQqsohl.js","assets/ChangePassword-BKUzuSsh.css","assets/ImportWallet-7EGbPMiQ.js","assets/ImportWallet-CVwQZSdQ.css","assets/ImportMnemonic-Cz2HD6ji.js","assets/ImportMnemonic-Bc8gpMBp.css","assets/ImportMnemonicInput-vX3U_DUk.js","assets/ImportMnemonicInput-8nheoQ4y.css","assets/ImportPrivateKey-D3DteqZd.js","assets/ImportPrivateKey-Ch17VNqg.css","assets/ImportPrivateKeyInput-BzcNbhWK.js","assets/ImportPrivateKeyInput-q7zaiOuA.css","assets/WalletImportLoading-Drdt_z_h.js","assets/WalletImportLoading-TKZgXiZf.css","assets/SetupPassword-0EhOfPyA.js","assets/SetupPassword-Yy2yLFDT.css","assets/VerifyPassword-CsKKyXAj.js","assets/VerifyPassword-By8vI28m.css","assets/WalletChoice-BRnRU8n-.js","assets/WalletChoice-BJFYGSQy.css","assets/SelectChain-D5XMaCQE.js","assets/SelectChain-D_17XEXg.css","assets/VerifyMnemonic-m6U4kwgD.js","assets/VerifyMnemonic-BclRmCH6.css","assets/ConfirmMnemonic-v6iC14Zq.js","assets/ConfirmMnemonic-Dx_RPTFn.css","assets/CreateWalletPassword-DTqKHPQu.js","assets/CreateWalletPassword-Bwgjh9gE.css"])))=>i.map(i=>d[i]);
import{d as f,u as y,r as c,c as R,o as A,w as V,a as D,b as L,e as E,f as d,g as P,h as T,i as p,n as O,j as k,k as C,l as W}from"./auth-6eK4OsPi.js";import{u as S,a as M,i as z,_ as e,b as H,c as b,d as B}from"./auth-handler-CmfhYZP0.js";/* empty css             */import"./chrome-mock-BbAbqiJG.js";const G={key:0,class:"loading-screen"},K=f({__name:"App",setup(u){const i=S();M();const l=y(),n=c(!1);c(!1);const a=c("popup"),m=()=>{const o=window.location.href.includes("sidepanel")||window.location.pathname.includes("sidepanel")||window.innerWidth>500&&window.innerHeight>700;a.value=o?"sidepanel":"popup",console.log("🔍 Global Mode detected:",a.value,{href:window.location.href,pathname:window.location.pathname,width:window.innerWidth,height:window.innerHeight})},g=R(()=>{const o={"layout-popup":a.value==="popup","layout-sidepanel":a.value==="sidepanel"};return console.log("🎯 Global App - layoutClasses:",{currentMode:a.value,classes:o,windowWidth:window.innerWidth,windowHeight:window.innerHeight}),o});return A(async()=>{try{if(console.log("🎯 Initializing global layout mode detection"),m(),window.addEventListener("resize",m),n.value){console.log("App already initialized, skipping");return}await z(i,"popup"),await i.isReady(),n.value=!0,console.log("✅ Popup 简化初始化完成")}catch(o){console.error("Failed to initialize app:",o),n.value=!0}}),V(()=>i.currentRoute.value.path,async(o,t)=>{if(console.log("🔄 Route changed from",t,"to",o),[t==="/verify-password"&&o==="/",t==="/wallet-choice"&&o==="/",["/select-chain","/verify-mnemonic","/confirm-mnemonic","/create-wallet-password"].includes(t)&&o==="/",["/import-wallet","/import-mnemonic","/import-private-key","/import-private-key-input","/import-mnemonic-input","/wallet-import-loading"].includes(t)&&o==="/",t==="/setup-password"&&o==="/"].some(_=>_)){console.log("✅ Skipping route logic - coming from authentication/wallet setup flow");return}if(o==="/"&&n.value){const{routeGuard:_,isCurrentlyVerifying:w}=await e(async()=>{const{routeGuard:r,isCurrentlyVerifying:I}=await import("./route-guard-DLJCyfIx.js");return{routeGuard:r,isCurrentlyVerifying:I}},__vite__mapDeps([0,1,2,3,4]));if(w()){console.log("🔐 Already verifying password, skipping duplicate check");return}setTimeout(async()=>{if(w()){console.log("🔐 Password verification in progress, skipping");return}const r=await _(i,o);r&&(console.log("🔄 Route guard redirecting to:",r),i.push(r))},300)}}),D(()=>{window.removeEventListener("resize",m)}),(o,t)=>{const v=L("router-view");return d(),E("div",{id:"app",class:O(["wallet-app",g.value])},[T(l).loading||!n.value?(d(),E("div",G,t[0]||(t[0]=[p("div",{class:"loading-content"},[p("img",{src:H,alt:"Riftwallet",class:"loading-logo"}),p("div",{class:"loading-spinner"}),p("p",null,"Initializing Riftwallet...")],-1)]))):(d(),P(v,{key:1}))],2)}}}),$=[{path:"/",name:"Home",component:()=>e(()=>import("./HomeSidePanel-XJYCydPi.js"),__vite__mapDeps([5,4,1,2,3,6,7,8,9,10,11]))},{path:"/wallet/:id",name:"WalletDetail",component:()=>e(()=>import("./WalletDetail-SKR7oqmR.js"),__vite__mapDeps([12,1,2,3,4,13,7,14,15]))},{path:"/wallet/:id/rename",name:"RenameWallet",component:()=>e(()=>import("./RenameWallet-Dkar8ogj.js"),__vite__mapDeps([16,1,2,3,4,13,7,14,17]))},{path:"/wallet/:id/private-key",name:"ShowPrivateKey",component:()=>e(()=>import("./ShowPrivateKey-CS9rUbl_.js"),__vite__mapDeps([18,1,2,3,4,13,7,14,19]))},{path:"/wallet/:id/delete",name:"DeleteWallet",component:()=>e(()=>import("./DeleteWallet-DWAHpZA5.js"),__vite__mapDeps([20,1,2,3,4,13,7,14,21]))},{path:"/send",name:"Send",component:()=>e(()=>import("./Send-D21wwMNY.js"),__vite__mapDeps([22,1,2,3,4,13,7,14,23]))},{path:"/receive",name:"Receive",component:()=>e(()=>import("./Receive-CccXwNrX.js"),__vite__mapDeps([24,4,1,2,3,6,7,8,25]))},{path:"/swap",name:"Swap",component:()=>e(()=>import("./Swap-B5h6OtQU.js"),__vite__mapDeps([26,6,1,2,3,7,8,27]))},{path:"/history",name:"History",component:()=>e(()=>import("./History-mKVNF6Kr.js"),__vite__mapDeps([28,4,1,2,3,6,7,8,29]))},{path:"/markets",name:"Markets",component:()=>e(()=>import("./Markets-DxGGPs9y.js"),__vite__mapDeps([30,6,1,2,3,7,8,9,4,10,31]))},{path:"/trade",name:"Trade",component:()=>e(()=>import("./Trade-4OJ_d9cM.js"),__vite__mapDeps([32,6,1,2,3,7,8,9,4,10,33]))},{path:"/discover",name:"Discover",component:()=>e(()=>import("./Discover-DJX48QUF.js"),__vite__mapDeps([34,6,1,2,3,7,8,9,4,10,35]))},{path:"/settings",name:"Settings",component:()=>e(()=>import("./Settings-CAcBDQYC.js"),__vite__mapDeps([36,4,1,2,3,6,7,8,9,10,37]))},{path:"/change-password",name:"ChangePassword",component:()=>e(()=>import("./ChangePassword-CRQqsohl.js"),__vite__mapDeps([38,1,2,3,4,13,7,14,39]))},{path:"/import-wallet",name:"ImportWallet",component:()=>e(()=>import("./ImportWallet-7EGbPMiQ.js"),__vite__mapDeps([40,4,1,2,3,6,7,8,41]))},{path:"/import-mnemonic",name:"ImportMnemonic",component:()=>e(()=>import("./ImportMnemonic-Cz2HD6ji.js"),__vite__mapDeps([42,1,2,3,4,6,7,8,43]))},{path:"/import-mnemonic-input",name:"ImportMnemonicInput",component:()=>e(()=>import("./ImportMnemonicInput-vX3U_DUk.js"),__vite__mapDeps([44,1,2,3,4,6,7,8,45]))},{path:"/import-private-key",name:"ImportPrivateKey",component:()=>e(()=>import("./ImportPrivateKey-D3DteqZd.js"),__vite__mapDeps([46,1,2,3,4,6,7,8,47]))},{path:"/import-private-key-input",name:"ImportPrivateKeyInput",component:()=>e(()=>import("./ImportPrivateKeyInput-BzcNbhWK.js"),__vite__mapDeps([48,1,2,3,4,6,7,8,49]))},{path:"/wallet-import-loading",name:"WalletImportLoading",component:()=>e(()=>import("./WalletImportLoading-Drdt_z_h.js"),__vite__mapDeps([50,4,1,2,3,7,51]))},{path:"/setup-password",name:"SetupPassword",component:()=>e(()=>import("./SetupPassword-0EhOfPyA.js"),__vite__mapDeps([52,1,2,3,4,7,53]))},{path:"/verify-password",name:"VerifyPassword",component:()=>e(()=>import("./VerifyPassword-CsKKyXAj.js"),__vite__mapDeps([54,1,2,3,4,7,55]))},{path:"/wallet-choice",name:"WalletChoice",component:()=>e(()=>import("./WalletChoice-BRnRU8n-.js"),__vite__mapDeps([56,4,1,2,3,7,57]))},{path:"/select-chain",name:"SelectChain",component:()=>e(()=>import("./SelectChain-D5XMaCQE.js"),__vite__mapDeps([58,4,1,2,3,6,7,8,59]))},{path:"/verify-mnemonic",name:"VerifyMnemonic",component:()=>e(()=>import("./VerifyMnemonic-m6U4kwgD.js"),__vite__mapDeps([60,4,1,2,3,6,7,8,61]))},{path:"/confirm-mnemonic",name:"ConfirmMnemonic",component:()=>e(()=>import("./ConfirmMnemonic-v6iC14Zq.js"),__vite__mapDeps([62,1,2,3,4,6,7,8,63]))},{path:"/create-wallet-password",name:"CreateWalletPassword",component:()=>e(()=>import("./CreateWalletPassword-DTqKHPQu.js"),__vite__mapDeps([64,1,2,3,4,6,7,8,65]))}],h=b({history:B(),routes:$});h.beforeEach(async(u,i,l)=>{console.log(`🔄 Popup Router: ${i.path} -> ${u.path}`),l()});const s=k(K);s.use(C());s.use(h);s.use(W);s.mount("#app");
