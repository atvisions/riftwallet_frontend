import{d as _,u as y,r as i,e as n,i as s,G as f,h as g,M as h,C as P,A as b,N as V,n as w,f as d}from"./auth-Vb-AA__w.js";import{a as k,_ as C,u as N}from"./preload-helper-DQNYPBmD.js";import{A as S}from"./chrome-mock-DxZfNgLw.js";import{_ as A}from"./_plugin-vue_export-helper-DlAUqK2U.js";const E={class:"verify-password-page"},x={class:"header-section"},M={class:"app-name"},B={class:"form-section"},D={class:"input-group"},I={class:"input-wrapper"},G=["type"],R={key:0,class:"error-message"},W=["disabled"],z={key:0,class:"loading-spinner"},F={key:1},H=_({__name:"VerifyPassword",setup(O){const c=N(),v=y(),u=k(),o=i(""),t=i(!1),r=i(!1),a=i(""),m=async()=>{if(o.value)try{r.value=!0,a.value="",await v.verifyPaymentPassword(o.value)?(console.log("Password verification successful, checking wallet status"),await new Promise(e=>setTimeout(e,50)),await u.loadWallets(),u.wallets.length>0?(console.log("Has wallets, redirecting to home from verify password"),await c.replace("/")):(console.log("No wallets, redirecting to wallet choice from verify password"),await c.replace("/wallet-choice"))):a.value="Invalid password. Please try again."}catch(l){a.value=l instanceof Error?l.message:"Verification failed"}finally{r.value=!1}};return(l,e)=>(d(),n("div",E,[s("div",x,[e[2]||(e[2]=s("div",{class:"logo-container"},[s("img",{src:C,alt:"Riftwallet",class:"logo"})],-1)),s("h1",M,f(g(S).NAME),1),e[3]||(e[3]=s("p",{class:"form-description"}," Enter your password to access your wallet ",-1))]),s("div",B,[s("form",{onSubmit:h(m,["prevent"]),class:"password-form"},[s("div",D,[e[4]||(e[4]=s("label",{for:"password"},"Password",-1)),s("div",I,[b(s("input",{id:"password","onUpdate:modelValue":e[0]||(e[0]=p=>o.value=p),type:t.value?"text":"password",placeholder:"Enter your password",class:w(["password-input",{error:a.value}]),autofocus:""},null,10,G),[[V,o.value]]),s("button",{type:"button",onClick:e[1]||(e[1]=p=>t.value=!t.value),class:"toggle-password"},[s("i",{class:w(t.value?"ri-eye-off-line":"ri-eye-line")},null,2)])]),a.value?(d(),n("div",R,f(a.value),1)):P("",!0)]),s("button",{type:"submit",disabled:!o.value||r.value,class:"submit-btn"},[r.value?(d(),n("div",z)):(d(),n("span",F,"Verify Password"))],8,W)],32)])]))}}),q=A(H,[["__scopeId","data-v-b9976840"]]);export{q as default};
