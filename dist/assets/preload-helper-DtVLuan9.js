import{s as it,d as Ke,h as te,p as ut,q as ft,t as G,c as H,v as Qe,x as me,r as K,w as dt,y as ht,z as pt,u as Ce}from"./auth-DRfzTYJF.js";import{A as ve,M as Z,i as mt}from"./chrome-mock-0jeXDaAI.js";/*!
  * vue-router v4.5.1
  * (c) 2025 Eduardo San Martin Morote
  * @license MIT
  */const Q=typeof document<"u";function De(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function vt(e){return e.__esModule||e[Symbol.toStringTag]==="Module"||e.default&&De(e.default)}const A=Object.assign;function ge(e,t){const n={};for(const r in t){const s=t[r];n[r]=q(s)?s.map(e):e(s)}return n}const ne=()=>{},q=Array.isArray,Ye=/#/g,gt=/&/g,yt=/\//g,wt=/=/g,Et=/\?/g,Xe=/\+/g,_t=/%5B/g,Rt=/%5D/g,Je=/%5E/g,St=/%60/g,Ze=/%7B/g,Pt=/%7C/g,et=/%7D/g,bt=/%20/g;function Se(e){return encodeURI(""+e).replace(Pt,"|").replace(_t,"[").replace(Rt,"]")}function kt(e){return Se(e).replace(Ze,"{").replace(et,"}").replace(Je,"^")}function Ee(e){return Se(e).replace(Xe,"%2B").replace(bt,"+").replace(Ye,"%23").replace(gt,"%26").replace(St,"`").replace(Ze,"{").replace(et,"}").replace(Je,"^")}function At(e){return Ee(e).replace(wt,"%3D")}function Ct(e){return Se(e).replace(Ye,"%23").replace(Et,"%3F")}function Ot(e){return e==null?"":Ct(e).replace(yt,"%2F")}function se(e){try{return decodeURIComponent(""+e)}catch{}return""+e}const It=/\/$/,Tt=e=>e.replace(It,"");function ye(e,t,n="/"){let r,s={},c="",d="";const p=t.indexOf("#");let o=t.indexOf("?");return p<o&&p>=0&&(o=-1),o>-1&&(r=t.slice(0,o),c=t.slice(o+1,p>-1?p:t.length),s=e(c)),p>-1&&(r=r||t.slice(0,p),d=t.slice(p,t.length)),r=Nt(r??t,n),{fullPath:r+(c&&"?")+c+d,path:r,query:s,hash:se(d)}}function Lt(e,t){const n=t.query?e(t.query):"";return t.path+(n&&"?")+n+(t.hash||"")}function Oe(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function xt(e,t,n){const r=t.matched.length-1,s=n.matched.length-1;return r>-1&&r===s&&D(t.matched[r],n.matched[s])&&tt(t.params,n.params)&&e(t.query)===e(n.query)&&t.hash===n.hash}function D(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function tt(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(!Mt(e[n],t[n]))return!1;return!0}function Mt(e,t){return q(e)?Ie(e,t):q(t)?Ie(t,e):e===t}function Ie(e,t){return q(t)?e.length===t.length&&e.every((n,r)=>n===t[r]):e.length===1&&e[0]===t}function Nt(e,t){if(e.startsWith("/"))return e;if(!e)return t;const n=t.split("/"),r=e.split("/"),s=r[r.length-1];(s===".."||s===".")&&r.push("");let c=n.length-1,d,p;for(d=0;d<r.length;d++)if(p=r[d],p!==".")if(p==="..")c>1&&c--;else break;return n.slice(0,c).join("/")+"/"+r.slice(d).join("/")}const U={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var oe;(function(e){e.pop="pop",e.push="push"})(oe||(oe={}));var re;(function(e){e.back="back",e.forward="forward",e.unknown=""})(re||(re={}));function Wt(e){if(!e)if(Q){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),Tt(e)}const $t=/^[^#]+#/;function Bt(e,t){return e.replace($t,"#")+t}function jt(e,t){const n=document.documentElement.getBoundingClientRect(),r=e.getBoundingClientRect();return{behavior:t.behavior,left:r.left-n.left-(t.left||0),top:r.top-n.top-(t.top||0)}}const ce=()=>({left:window.scrollX,top:window.scrollY});function Ht(e){let t;if("el"in e){const n=e.el,r=typeof n=="string"&&n.startsWith("#"),s=typeof n=="string"?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!s)return;t=jt(s,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.scrollX,t.top!=null?t.top:window.scrollY)}function Te(e,t){return(history.state?history.state.position-t:-1)+e}const _e=new Map;function qt(e,t){_e.set(e,t)}function Ft(e){const t=_e.get(e);return _e.delete(e),t}let Ut=()=>location.protocol+"//"+location.host;function nt(e,t){const{pathname:n,search:r,hash:s}=t,c=e.indexOf("#");if(c>-1){let p=s.includes(e.slice(c))?e.slice(c).length:1,o=s.slice(p);return o[0]!=="/"&&(o="/"+o),Oe(o,"")}return Oe(n,e)+r+s}function zt(e,t,n,r){let s=[],c=[],d=null;const p=({state:u})=>{const f=nt(e,location),b=n.value,k=t.value;let C=0;if(u){if(n.value=f,t.value=u,d&&d===b){d=null;return}C=k?u.position-k.position:0}else r(f);s.forEach(L=>{L(n.value,b,{delta:C,type:oe.pop,direction:C?C>0?re.forward:re.back:re.unknown})})};function o(){d=n.value}function i(u){s.push(u);const f=()=>{const b=s.indexOf(u);b>-1&&s.splice(b,1)};return c.push(f),f}function h(){const{history:u}=window;u.state&&u.replaceState(A({},u.state,{scroll:ce()}),"")}function l(){for(const u of c)u();c=[],window.removeEventListener("popstate",p),window.removeEventListener("beforeunload",h)}return window.addEventListener("popstate",p),window.addEventListener("beforeunload",h,{passive:!0}),{pauseListeners:o,listen:i,destroy:l}}function Le(e,t,n,r=!1,s=!1){return{back:e,current:t,forward:n,replaced:r,position:window.history.length,scroll:s?ce():null}}function Gt(e){const{history:t,location:n}=window,r={value:nt(e,n)},s={value:t.state};s.value||c(r.value,{back:null,current:r.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function c(o,i,h){const l=e.indexOf("#"),u=l>-1?(n.host&&document.querySelector("base")?e:e.slice(l))+o:Ut()+e+o;try{t[h?"replaceState":"pushState"](i,"",u),s.value=i}catch(f){console.error(f),n[h?"replace":"assign"](u)}}function d(o,i){const h=A({},t.state,Le(s.value.back,o,s.value.forward,!0),i,{position:s.value.position});c(o,h,!0),r.value=o}function p(o,i){const h=A({},s.value,t.state,{forward:o,scroll:ce()});c(h.current,h,!0);const l=A({},Le(r.value,o,null),{position:h.position+1},i);c(o,l,!1),r.value=o}return{location:r,state:s,push:p,replace:d}}function Vt(e){e=Wt(e);const t=Gt(e),n=zt(e,t.state,t.location,t.replace);function r(c,d=!0){d||n.pauseListeners(),history.go(c)}const s=A({location:"",base:e,go:r,createHref:Bt.bind(null,e)},t,n);return Object.defineProperty(s,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(s,"state",{enumerable:!0,get:()=>t.state.value}),s}function Sn(e){return e=location.host?e||location.pathname+location.search:"",e.includes("#")||(e+="#"),Vt(e)}function Kt(e){return typeof e=="string"||e&&typeof e=="object"}function rt(e){return typeof e=="string"||typeof e=="symbol"}const st=Symbol("");var xe;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(xe||(xe={}));function Y(e,t){return A(new Error,{type:e,[st]:!0},t)}function F(e,t){return e instanceof Error&&st in e&&(t==null||!!(e.type&t))}const Me="[^/]+?",Qt={sensitive:!1,strict:!1,start:!0,end:!0},Dt=/[.+*?^${}()[\]/\\]/g;function Yt(e,t){const n=A({},Qt,t),r=[];let s=n.start?"^":"";const c=[];for(const i of e){const h=i.length?[]:[90];n.strict&&!i.length&&(s+="/");for(let l=0;l<i.length;l++){const u=i[l];let f=40+(n.sensitive?.25:0);if(u.type===0)l||(s+="/"),s+=u.value.replace(Dt,"\\$&"),f+=40;else if(u.type===1){const{value:b,repeatable:k,optional:C,regexp:L}=u;c.push({name:b,repeatable:k,optional:C});const S=L||Me;if(S!==Me){f+=10;try{new RegExp(`(${S})`)}catch(j){throw new Error(`Invalid custom RegExp for param "${b}" (${S}): `+j.message)}}let I=k?`((?:${S})(?:/(?:${S}))*)`:`(${S})`;l||(I=C&&i.length<2?`(?:/${I})`:"/"+I),C&&(I+="?"),s+=I,f+=20,C&&(f+=-8),k&&(f+=-20),S===".*"&&(f+=-50)}h.push(f)}r.push(h)}if(n.strict&&n.end){const i=r.length-1;r[i][r[i].length-1]+=.7000000000000001}n.strict||(s+="/?"),n.end?s+="$":n.strict&&!s.endsWith("/")&&(s+="(?:/|$)");const d=new RegExp(s,n.sensitive?"":"i");function p(i){const h=i.match(d),l={};if(!h)return null;for(let u=1;u<h.length;u++){const f=h[u]||"",b=c[u-1];l[b.name]=f&&b.repeatable?f.split("/"):f}return l}function o(i){let h="",l=!1;for(const u of e){(!l||!h.endsWith("/"))&&(h+="/"),l=!1;for(const f of u)if(f.type===0)h+=f.value;else if(f.type===1){const{value:b,repeatable:k,optional:C}=f,L=b in i?i[b]:"";if(q(L)&&!k)throw new Error(`Provided param "${b}" is an array but it is not repeatable (* or + modifiers)`);const S=q(L)?L.join("/"):L;if(!S)if(C)u.length<2&&(h.endsWith("/")?h=h.slice(0,-1):l=!0);else throw new Error(`Missing required param "${b}"`);h+=S}}return h||"/"}return{re:d,score:r,keys:c,parse:p,stringify:o}}function Xt(e,t){let n=0;for(;n<e.length&&n<t.length;){const r=t[n]-e[n];if(r)return r;n++}return e.length<t.length?e.length===1&&e[0]===80?-1:1:e.length>t.length?t.length===1&&t[0]===80?1:-1:0}function ot(e,t){let n=0;const r=e.score,s=t.score;for(;n<r.length&&n<s.length;){const c=Xt(r[n],s[n]);if(c)return c;n++}if(Math.abs(s.length-r.length)===1){if(Ne(r))return 1;if(Ne(s))return-1}return s.length-r.length}function Ne(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const Jt={type:0,value:""},Zt=/[a-zA-Z0-9_]/;function en(e){if(!e)return[[]];if(e==="/")return[[Jt]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(f){throw new Error(`ERR (${n})/"${i}": ${f}`)}let n=0,r=n;const s=[];let c;function d(){c&&s.push(c),c=[]}let p=0,o,i="",h="";function l(){i&&(n===0?c.push({type:0,value:i}):n===1||n===2||n===3?(c.length>1&&(o==="*"||o==="+")&&t(`A repeatable param (${i}) must be alone in its segment. eg: '/:ids+.`),c.push({type:1,value:i,regexp:h,repeatable:o==="*"||o==="+",optional:o==="*"||o==="?"})):t("Invalid state to consume buffer"),i="")}function u(){i+=o}for(;p<e.length;){if(o=e[p++],o==="\\"&&n!==2){r=n,n=4;continue}switch(n){case 0:o==="/"?(i&&l(),d()):o===":"?(l(),n=1):u();break;case 4:u(),n=r;break;case 1:o==="("?n=2:Zt.test(o)?u():(l(),n=0,o!=="*"&&o!=="?"&&o!=="+"&&p--);break;case 2:o===")"?h[h.length-1]=="\\"?h=h.slice(0,-1)+o:n=3:h+=o;break;case 3:l(),n=0,o!=="*"&&o!=="?"&&o!=="+"&&p--,h="";break;default:t("Unknown state");break}}return n===2&&t(`Unfinished custom RegExp for param "${i}"`),l(),d(),s}function tn(e,t,n){const r=Yt(en(e.path),n),s=A(r,{record:e,parent:t,children:[],alias:[]});return t&&!s.record.aliasOf==!t.record.aliasOf&&t.children.push(s),s}function nn(e,t){const n=[],r=new Map;t=je({strict:!1,end:!0,sensitive:!1},t);function s(l){return r.get(l)}function c(l,u,f){const b=!f,k=$e(l);k.aliasOf=f&&f.record;const C=je(t,l),L=[k];if("alias"in l){const j=typeof l.alias=="string"?[l.alias]:l.alias;for(const m of j)L.push($e(A({},k,{components:f?f.record.components:k.components,path:m,aliasOf:f?f.record:k})))}let S,I;for(const j of L){const{path:m}=j;if(u&&m[0]!=="/"){const g=u.record.path,P=g[g.length-1]==="/"?"":"/";j.path=u.record.path+(m&&P+m)}if(S=tn(j,u,C),f?f.alias.push(S):(I=I||S,I!==S&&I.alias.push(S),b&&l.name&&!Be(S)&&d(l.name)),at(S)&&o(S),k.children){const g=k.children;for(let P=0;P<g.length;P++)c(g[P],S,f&&f.children[P])}f=f||S}return I?()=>{d(I)}:ne}function d(l){if(rt(l)){const u=r.get(l);u&&(r.delete(l),n.splice(n.indexOf(u),1),u.children.forEach(d),u.alias.forEach(d))}else{const u=n.indexOf(l);u>-1&&(n.splice(u,1),l.record.name&&r.delete(l.record.name),l.children.forEach(d),l.alias.forEach(d))}}function p(){return n}function o(l){const u=on(l,n);n.splice(u,0,l),l.record.name&&!Be(l)&&r.set(l.record.name,l)}function i(l,u){let f,b={},k,C;if("name"in l&&l.name){if(f=r.get(l.name),!f)throw Y(1,{location:l});C=f.record.name,b=A(We(u.params,f.keys.filter(I=>!I.optional).concat(f.parent?f.parent.keys.filter(I=>I.optional):[]).map(I=>I.name)),l.params&&We(l.params,f.keys.map(I=>I.name))),k=f.stringify(b)}else if(l.path!=null)k=l.path,f=n.find(I=>I.re.test(k)),f&&(b=f.parse(k),C=f.record.name);else{if(f=u.name?r.get(u.name):n.find(I=>I.re.test(u.path)),!f)throw Y(1,{location:l,currentLocation:u});C=f.record.name,b=A({},u.params,l.params),k=f.stringify(b)}const L=[];let S=f;for(;S;)L.unshift(S.record),S=S.parent;return{name:C,path:k,params:b,matched:L,meta:sn(L)}}e.forEach(l=>c(l));function h(){n.length=0,r.clear()}return{addRoute:c,resolve:i,removeRoute:d,clearRoutes:h,getRoutes:p,getRecordMatcher:s}}function We(e,t){const n={};for(const r of t)r in e&&(n[r]=e[r]);return n}function $e(e){const t={path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:e.aliasOf,beforeEnter:e.beforeEnter,props:rn(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}};return Object.defineProperty(t,"mods",{value:{}}),t}function rn(e){const t={},n=e.props||!1;if("component"in e)t.default=n;else for(const r in e.components)t[r]=typeof n=="object"?n[r]:n;return t}function Be(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function sn(e){return e.reduce((t,n)=>A(t,n.meta),{})}function je(e,t){const n={};for(const r in e)n[r]=r in t?t[r]:e[r];return n}function on(e,t){let n=0,r=t.length;for(;n!==r;){const c=n+r>>1;ot(e,t[c])<0?r=c:n=c+1}const s=an(e);return s&&(r=t.lastIndexOf(s,r-1)),r}function an(e){let t=e;for(;t=t.parent;)if(at(t)&&ot(e,t)===0)return t}function at({record:e}){return!!(e.name||e.components&&Object.keys(e.components).length||e.redirect)}function ln(e){const t={};if(e===""||e==="?")return t;const r=(e[0]==="?"?e.slice(1):e).split("&");for(let s=0;s<r.length;++s){const c=r[s].replace(Xe," "),d=c.indexOf("="),p=se(d<0?c:c.slice(0,d)),o=d<0?null:se(c.slice(d+1));if(p in t){let i=t[p];q(i)||(i=t[p]=[i]),i.push(o)}else t[p]=o}return t}function He(e){let t="";for(let n in e){const r=e[n];if(n=At(n),r==null){r!==void 0&&(t+=(t.length?"&":"")+n);continue}(q(r)?r.map(c=>c&&Ee(c)):[r&&Ee(r)]).forEach(c=>{c!==void 0&&(t+=(t.length?"&":"")+n,c!=null&&(t+="="+c))})}return t}function cn(e){const t={};for(const n in e){const r=e[n];r!==void 0&&(t[n]=q(r)?r.map(s=>s==null?null:""+s):r==null?r:""+r)}return t}const un=Symbol(""),qe=Symbol(""),ie=Symbol(""),Pe=Symbol(""),Re=Symbol("");function ee(){let e=[];function t(r){return e.push(r),()=>{const s=e.indexOf(r);s>-1&&e.splice(s,1)}}function n(){e=[]}return{add:t,list:()=>e.slice(),reset:n}}function z(e,t,n,r,s,c=d=>d()){const d=r&&(r.enterCallbacks[s]=r.enterCallbacks[s]||[]);return()=>new Promise((p,o)=>{const i=u=>{u===!1?o(Y(4,{from:n,to:t})):u instanceof Error?o(u):Kt(u)?o(Y(2,{from:t,to:u})):(d&&r.enterCallbacks[s]===d&&typeof u=="function"&&d.push(u),p())},h=c(()=>e.call(r&&r.instances[s],t,n,i));let l=Promise.resolve(h);e.length<3&&(l=l.then(i)),l.catch(u=>o(u))})}function we(e,t,n,r,s=c=>c()){const c=[];for(const d of e)for(const p in d.components){let o=d.components[p];if(!(t!=="beforeRouteEnter"&&!d.instances[p]))if(De(o)){const h=(o.__vccOpts||o)[t];h&&c.push(z(h,n,r,d,p,s))}else{let i=o();c.push(()=>i.then(h=>{if(!h)throw new Error(`Couldn't resolve component "${p}" at "${d.path}"`);const l=vt(h)?h.default:h;d.mods[p]=h,d.components[p]=l;const f=(l.__vccOpts||l)[t];return f&&z(f,n,r,d,p,s)()}))}}return c}function Fe(e){const t=G(ie),n=G(Pe),r=H(()=>{const o=te(e.to);return t.resolve(o)}),s=H(()=>{const{matched:o}=r.value,{length:i}=o,h=o[i-1],l=n.matched;if(!h||!l.length)return-1;const u=l.findIndex(D.bind(null,h));if(u>-1)return u;const f=Ue(o[i-2]);return i>1&&Ue(h)===f&&l[l.length-1].path!==f?l.findIndex(D.bind(null,o[i-2])):u}),c=H(()=>s.value>-1&&mn(n.params,r.value.params)),d=H(()=>s.value>-1&&s.value===n.matched.length-1&&tt(n.params,r.value.params));function p(o={}){if(pn(o)){const i=t[te(e.replace)?"replace":"push"](te(e.to)).catch(ne);return e.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>i),i}return Promise.resolve()}return{route:r,href:H(()=>r.value.href),isActive:c,isExactActive:d,navigate:p}}function fn(e){return e.length===1?e[0]:e}const dn=Ke({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"},viewTransition:Boolean},useLink:Fe,setup(e,{slots:t}){const n=ft(Fe(e)),{options:r}=G(ie),s=H(()=>({[ze(e.activeClass,r.linkActiveClass,"router-link-active")]:n.isActive,[ze(e.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const c=t.default&&fn(t.default(n));return e.custom?c:Qe("a",{"aria-current":n.isExactActive?e.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:s.value},c)}}}),hn=dn;function pn(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function mn(e,t){for(const n in t){const r=t[n],s=e[n];if(typeof r=="string"){if(r!==s)return!1}else if(!q(s)||s.length!==r.length||r.some((c,d)=>c!==s[d]))return!1}return!0}function Ue(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const ze=(e,t,n)=>e??t??n,vn=Ke({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:n}){const r=G(Re),s=H(()=>e.route||r.value),c=G(qe,0),d=H(()=>{let i=te(c);const{matched:h}=s.value;let l;for(;(l=h[i])&&!l.components;)i++;return i}),p=H(()=>s.value.matched[d.value]);me(qe,H(()=>d.value+1)),me(un,p),me(Re,s);const o=K();return dt(()=>[o.value,p.value,e.name],([i,h,l],[u,f,b])=>{h&&(h.instances[l]=i,f&&f!==h&&i&&i===u&&(h.leaveGuards.size||(h.leaveGuards=f.leaveGuards),h.updateGuards.size||(h.updateGuards=f.updateGuards))),i&&h&&(!f||!D(h,f)||!u)&&(h.enterCallbacks[l]||[]).forEach(k=>k(i))},{flush:"post"}),()=>{const i=s.value,h=e.name,l=p.value,u=l&&l.components[h];if(!u)return Ge(n.default,{Component:u,route:i});const f=l.props[h],b=f?f===!0?i.params:typeof f=="function"?f(i):f:null,C=Qe(u,A({},b,t,{onVnodeUnmounted:L=>{L.component.isUnmounted&&(l.instances[h]=null)},ref:o}));return Ge(n.default,{Component:C,route:i})||C}}});function Ge(e,t){if(!e)return null;const n=e(t);return n.length===1?n[0]:n}const gn=vn;function Pn(e){const t=nn(e.routes,e),n=e.parseQuery||ln,r=e.stringifyQuery||He,s=e.history,c=ee(),d=ee(),p=ee(),o=it(U);let i=U;Q&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const h=ge.bind(null,a=>""+a),l=ge.bind(null,Ot),u=ge.bind(null,se);function f(a,y){let v,w;return rt(a)?(v=t.getRecordMatcher(a),w=y):w=a,t.addRoute(w,v)}function b(a){const y=t.getRecordMatcher(a);y&&t.removeRoute(y)}function k(){return t.getRoutes().map(a=>a.record)}function C(a){return!!t.getRecordMatcher(a)}function L(a,y){if(y=A({},y||o.value),typeof a=="string"){const E=ye(n,a,y.path),M=t.resolve({path:E.path},y),J=s.createHref(E.fullPath);return A(E,M,{params:u(M.params),hash:se(E.hash),redirectedFrom:void 0,href:J})}let v;if(a.path!=null)v=A({},a,{path:ye(n,a.path,y.path).path});else{const E=A({},a.params);for(const M in E)E[M]==null&&delete E[M];v=A({},a,{params:l(E)}),y.params=l(y.params)}const w=t.resolve(v,y),T=a.hash||"";w.params=h(u(w.params));const x=Lt(r,A({},a,{hash:kt(T),path:w.path})),R=s.createHref(x);return A({fullPath:x,hash:T,query:r===He?cn(a.query):a.query||{}},w,{redirectedFrom:void 0,href:R})}function S(a){return typeof a=="string"?ye(n,a,o.value.path):A({},a)}function I(a,y){if(i!==a)return Y(8,{from:y,to:a})}function j(a){return P(a)}function m(a){return j(A(S(a),{replace:!0}))}function g(a){const y=a.matched[a.matched.length-1];if(y&&y.redirect){const{redirect:v}=y;let w=typeof v=="function"?v(a):v;return typeof w=="string"&&(w=w.includes("?")||w.includes("#")?w=S(w):{path:w},w.params={}),A({query:a.query,hash:a.hash,params:w.path!=null?{}:a.params},w)}}function P(a,y){const v=i=L(a),w=o.value,T=a.state,x=a.force,R=a.replace===!0,E=g(v);if(E)return P(A(S(E),{state:typeof E=="object"?A({},T,E.state):T,force:x,replace:R}),y||v);const M=v;M.redirectedFrom=y;let J;return!x&&xt(r,w,v)&&(J=Y(16,{to:M,from:w}),ke(w,w,!0,!1)),(J?Promise.resolve(J):_(M,w)).catch(B=>F(B)?F(B,2)?B:de(B):fe(B,M,w)).then(B=>{if(B){if(F(B,2))return P(A({replace:R},S(B.to),{state:typeof B.to=="object"?A({},T,B.to.state):T,force:x}),y||M)}else B=N(M,w,!0,R,T);return W(M,w,B),B})}function $(a,y){const v=I(a,y);return v?Promise.reject(v):Promise.resolve()}function O(a){const y=le.values().next().value;return y&&typeof y.runWithContext=="function"?y.runWithContext(a):a()}function _(a,y){let v;const[w,T,x]=yn(a,y);v=we(w.reverse(),"beforeRouteLeave",a,y);for(const E of w)E.leaveGuards.forEach(M=>{v.push(z(M,a,y))});const R=$.bind(null,a,y);return v.push(R),V(v).then(()=>{v=[];for(const E of c.list())v.push(z(E,a,y));return v.push(R),V(v)}).then(()=>{v=we(T,"beforeRouteUpdate",a,y);for(const E of T)E.updateGuards.forEach(M=>{v.push(z(M,a,y))});return v.push(R),V(v)}).then(()=>{v=[];for(const E of x)if(E.beforeEnter)if(q(E.beforeEnter))for(const M of E.beforeEnter)v.push(z(M,a,y));else v.push(z(E.beforeEnter,a,y));return v.push(R),V(v)}).then(()=>(a.matched.forEach(E=>E.enterCallbacks={}),v=we(x,"beforeRouteEnter",a,y,O),v.push(R),V(v))).then(()=>{v=[];for(const E of d.list())v.push(z(E,a,y));return v.push(R),V(v)}).catch(E=>F(E,8)?E:Promise.reject(E))}function W(a,y,v){p.list().forEach(w=>O(()=>w(a,y,v)))}function N(a,y,v,w,T){const x=I(a,y);if(x)return x;const R=y===U,E=Q?history.state:{};v&&(w||R?s.replace(a.fullPath,A({scroll:R&&E&&E.scroll},T)):s.push(a.fullPath,T)),o.value=a,ke(a,y,v,R),de()}let X;function lt(){X||(X=s.listen((a,y,v)=>{if(!Ae.listening)return;const w=L(a),T=g(w);if(T){P(A(T,{replace:!0,force:!0}),w).catch(ne);return}i=w;const x=o.value;Q&&qt(Te(x.fullPath,v.delta),ce()),_(w,x).catch(R=>F(R,12)?R:F(R,2)?(P(A(S(R.to),{force:!0}),w).then(E=>{F(E,20)&&!v.delta&&v.type===oe.pop&&s.go(-1,!1)}).catch(ne),Promise.reject()):(v.delta&&s.go(-v.delta,!1),fe(R,w,x))).then(R=>{R=R||N(w,x,!1),R&&(v.delta&&!F(R,8)?s.go(-v.delta,!1):v.type===oe.pop&&F(R,20)&&s.go(-1,!1)),W(w,x,R)}).catch(ne)}))}let ue=ee(),be=ee(),ae;function fe(a,y,v){de(a);const w=be.list();return w.length?w.forEach(T=>T(a,y,v)):console.error(a),Promise.reject(a)}function ct(){return ae&&o.value!==U?Promise.resolve():new Promise((a,y)=>{ue.add([a,y])})}function de(a){return ae||(ae=!a,lt(),ue.list().forEach(([y,v])=>a?v(a):y()),ue.reset()),a}function ke(a,y,v,w){const{scrollBehavior:T}=e;if(!Q||!T)return Promise.resolve();const x=!v&&Ft(Te(a.fullPath,0))||(w||!v)&&history.state&&history.state.scroll||null;return ht().then(()=>T(a,y,x)).then(R=>R&&Ht(R)).catch(R=>fe(R,a,y))}const he=a=>s.go(a);let pe;const le=new Set,Ae={currentRoute:o,listening:!0,addRoute:f,removeRoute:b,clearRoutes:t.clearRoutes,hasRoute:C,getRoutes:k,resolve:L,options:e,push:j,replace:m,go:he,back:()=>he(-1),forward:()=>he(1),beforeEach:c.add,beforeResolve:d.add,afterEach:p.add,onError:be.add,isReady:ct,install(a){const y=this;a.component("RouterLink",hn),a.component("RouterView",gn),a.config.globalProperties.$router=y,Object.defineProperty(a.config.globalProperties,"$route",{enumerable:!0,get:()=>te(o)}),Q&&!pe&&o.value===U&&(pe=!0,j(s.location).catch(T=>{}));const v={};for(const T in U)Object.defineProperty(v,T,{get:()=>o.value[T],enumerable:!0});a.provide(ie,y),a.provide(Pe,ut(v)),a.provide(Re,o);const w=a.unmount;le.add(a),a.unmount=function(){le.delete(a),le.size<1&&(i=U,X&&X(),X=null,o.value=U,pe=!1,ae=!1),w()}}};function V(a){return a.reduce((y,v)=>y.then(()=>O(v)),Promise.resolve())}return Ae}function yn(e,t){const n=[],r=[],s=[],c=Math.max(t.matched.length,e.matched.length);for(let d=0;d<c;d++){const p=t.matched[d];p&&(e.matched.find(i=>D(i,p))?r.push(p):n.push(p));const o=e.matched[d];o&&(t.matched.find(i=>D(i,o))||s.push(o))}return[n,r,s]}function bn(){return G(ie)}function kn(e){return G(Pe)}const An="/icons/icon128.png",Cn=pt("wallet",()=>{const e=K([]),t=K(null),n=K({}),r=K(!1),s=K(null),c=H(()=>t.value?n.value[t.value.id]?.tokens||[]:[]),d=H(()=>t.value&&n.value[t.value.id]?.total_value_usd||"0"),p=async(m,g)=>new Promise((P,$)=>{chrome.runtime.sendMessage({type:m,data:g},O=>{if(chrome.runtime.lastError){$(new Error(chrome.runtime.lastError.message));return}O.success?P(O.data):$(new Error(O.error||"Unknown error"))})}),o=async(m=!0)=>{try{r.value=!0,s.value=null;const g=Ce();if(!g.deviceId){console.log("No device ID found, cannot load wallets"),e.value=[];return}console.log("Loading wallets for device:",g.deviceId);const $=await(await fetch(`${ve.API_BASE_URL}/wallets/?device_id=${g.deviceId}`)).json();if(console.log("Wallets API response:",$),$.state==="success"){if(e.value=$.data||[],console.log("Loaded wallets:",e.value),m&&e.value.length>0&&!t.value)try{console.log("Attempting to restore current wallet...");const O=await p("GET_CURRENT_WALLET");if(console.log("Saved wallet data:",O),O&&O.walletId){const _=O.walletId;console.log("Looking for wallet with ID:",_),console.log("Available wallets:",e.value.map(N=>({id:N.id,chain:N.chain,name:N.name})));const W=e.value.find(N=>N.id===_);W?(t.value=W,console.log("âœ… Restored current wallet:",W.id,W.chain,W.name)):(console.log("âŒ Saved wallet not found, selecting first wallet"),t.value=e.value[0],console.log("Selected first wallet:",e.value[0].id,e.value[0].chain,e.value[0].name))}else console.log("âŒ No saved wallet data, selecting first wallet"),t.value=e.value[0],console.log("Selected first wallet:",e.value[0].id,e.value[0].chain,e.value[0].name)}catch(O){console.error("âŒ Failed to restore current wallet:",O),t.value=e.value[0],console.log("Selected first wallet due to error:",e.value[0].id,e.value[0].chain,e.value[0].name)}}else throw new Error($.message||"Failed to load wallets")}catch(g){s.value=g instanceof Error?g.message:"Failed to load wallets",console.error("Failed to load wallets:",g)}finally{r.value=!1}},i=async m=>{try{r.value=!0,s.value=null;const g=await p(Z.CREATE_WALLET,m);return await o(),g}catch(g){throw s.value=g instanceof Error?g.message:"Failed to create wallet",g}finally{r.value=!1}},h=async m=>{try{if(r.value=!0,s.value=null,mt()){const g=await p(Z.IMPORT_WALLET,m);return await o(),g}else{const g=Ce();if(!g.deviceId)throw new Error("Device ID not found");const P={device_id:g.deviceId,chain:m.chain,payment_password:m.payment_password,kadena_chain_id:m.kadena_chain_id||"0"};m.private_key?Object.assign(P,{private_key:m.private_key}):m.mnemonic?Object.assign(P,{mnemonic:m.mnemonic}):m.address&&Object.assign(P,{address:m.address}),console.log("Import wallet request data:",P);let $="/wallets/import_private_key/";m.mnemonic?$="/wallets/import_by_mnemonic/":m.address&&($="/wallets/import_watch_only/");const O=await fetch(`${ve.API_BASE_URL}${$}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(P)}),_=await O.json();if(console.log("Import wallet response:",{status:O.status,statusText:O.statusText,data:_}),O.ok&&_.state==="success")return await o(),_.data;if(console.error("Import wallet failed:",_),console.error("Response status:",O.status),console.error("Response ok:",O.ok),console.error("Data state:",_.state),console.error("Error message:",_.message),console.error("Non field errors:",_.non_field_errors),console.error("Full error data:",JSON.stringify(_,null,2)),O.status===400){let W="";_.message?W=_.message:_.non_field_errors&&Array.isArray(_.non_field_errors)&&_.non_field_errors.length>0?W=_.non_field_errors[0]:_.error?W=_.error:typeof _=="string"&&(W=_);const N=W.toLowerCase();throw console.log("Checking error message:",W),console.log("Lowercase error message:",N),N.includes("password")?new Error("Incorrect password. Please check your payment password."):N.includes("private key")||N.includes("privatekey")?new Error("Invalid private key. Please check your private key format."):N.includes("mnemonic")||N.includes("recovery phrase")?new Error("Invalid recovery phrase. Please check your 12-word phrase."):N.includes("invalid")||N.includes("wrong")||N.includes("incorrect")?new Error("Invalid input. Please check your private key and password."):new Error(W||"Invalid request. Please check your input.")}else throw O.status===401?new Error("Authentication failed. Please check your password."):O.status===403?new Error("Access denied. Please check your permissions."):O.status===404?new Error("Service not found. Please try again later."):O.status>=500?new Error("Server error. Please try again later."):new Error(_.message||"Import failed. Please try again.")}}catch(g){throw s.value=g instanceof Error?g.message:"Failed to import wallet",g}finally{r.value=!1}},l=async m=>await h({mnemonic:m.mnemonic,chain:m.chain,payment_password:m.payment_password,kadena_chain_id:m.kadena_chain_id||"0"}),u=async m=>{try{r.value=!0,s.value=null,await p(Z.DELETE_WALLET,{walletId:m}),e.value=e.value.filter(g=>g.id!==m),t.value?.id===m&&(t.value=e.value.length>0?e.value[0]:null),delete n.value[m]}catch(g){throw s.value=g instanceof Error?g.message:"Failed to delete wallet",g}finally{r.value=!1}},f=async m=>{if(m){console.log("ðŸ”„ Setting current wallet:",m.id,m.chain,m.name),t.value=m;try{await p("SET_CURRENT_WALLET",{walletId:m.id}),console.log("âœ… Current wallet saved to storage:",m.id)}catch(g){console.error("âŒ Failed to save current wallet:",g)}n.value[m.id]||C(m.id)}else t.value=null},b=m=>{const g=e.value.findIndex(P=>P.id===m.id);g!==-1&&(e.value[g]=m,t.value?.id===m.id&&(t.value=m))},k=m=>{e.value=e.value.filter(g=>g.id!==m),t.value?.id===m&&(t.value=e.value.length>0?e.value[0]:null),delete n.value[m]},C=async m=>{try{console.log("Loading balance for wallet:",m);const P=await(await fetch(`${ve.API_BASE_URL}/wallets/${m}/get_all_balances/`)).json();if(console.log("Balance API response:",P),P.status==="success"){const $=(P.tokens||[]).map(_=>({token_address:_.token_address||"",symbol:_.symbol||"",name:_.name||"",decimals:_.decimals||18,balance:_.balance_formatted||_.balance?.toString()||"0",balance_usd:_.value_usd?.toString()||"0",price_usd:_.current_price_usd?.toString()||"0",price_change_24h:_.price_change_percentage_24h?.toString()||"0",logo_url:_.logo,is_visible:_.is_visible!==!1,imageError:!1})),O={wallet_id:P.wallet_id||m,chain:P.chain||"",total_value_usd:P.total_value_usd||"0",total_value_change_24h:P.total_value_change_24h||"0",total_change_percentage:P.total_change_percentage||"0",tokens:$,timestamp:Date.now()};n.value[m]=O,console.log("Balance updated for wallet:",m,O)}else throw new Error(P.message||"Failed to load balance")}catch(g){console.error("Failed to load wallet balance:",g)}};return{wallets:e,currentWallet:t,balances:n,loading:r,error:s,currentWalletTokens:c,totalBalance:d,loadWallets:o,createWallet:i,importWallet:h,importMnemonic:l,deleteWallet:u,setCurrentWallet:f,updateWallet:b,removeWallet:k,loadWalletBalance:C,refreshWalletBalance:async m=>{try{r.value=!0,await p("REFRESH_TOKEN_PRICES",{walletId:m}),await C(m)}catch(g){throw s.value=g instanceof Error?g.message:"Failed to refresh balance",g}finally{r.value=!1}},transfer:async m=>{try{r.value=!0,s.value=null;const g=await p(Z.TRANSFER,m);return await C(m.walletId),g}catch(g){throw s.value=g instanceof Error?g.message:"Transfer failed",g}finally{r.value=!1}},swap:async m=>{try{r.value=!0,s.value=null;const g=await p(Z.SWAP,m);return await C(m.walletId),g}catch(g){throw s.value=g instanceof Error?g.message:"Swap failed",g}finally{r.value=!1}},reset:()=>{e.value=[],t.value=null,n.value={},r.value=!1,s.value=null}}}),wn="modulepreload",En=function(e){return"/"+e},Ve={},On=function(t,n,r){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const d=document.querySelector("meta[property=csp-nonce]"),p=d?.nonce||d?.getAttribute("nonce");s=Promise.allSettled(n.map(o=>{if(o=En(o),o in Ve)return;Ve[o]=!0;const i=o.endsWith(".css"),h=i?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${o}"]${h}`))return;const l=document.createElement("link");if(l.rel=i?"stylesheet":wn,i||(l.as="script"),l.crossOrigin="",l.href=o,p&&l.setAttribute("nonce",p),document.head.appendChild(l),i)return new Promise((u,f)=>{l.addEventListener("load",u),l.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${o}`)))})}))}function c(d){const p=new Event("vite:preloadError",{cancelable:!0});if(p.payload=d,window.dispatchEvent(p),!p.defaultPrevented)throw d}return s.then(d=>{for(const p of d||[])p.status==="rejected"&&c(p.reason);return t().catch(c)})};export{An as _,Cn as a,On as b,Pn as c,Sn as d,kn as e,bn as u};
