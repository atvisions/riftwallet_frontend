import{u as b}from"./preload-helper-BHn8pG3Y.js";import{d as S,u as I,r,q as P,o as x,f as B,E as _,e as a,h as e,c as n,B as u,G as l,H as F,I as A,F as f}from"./auth-B5jpq_BM.js";import{A as E}from"./index-DSub5CB9.js";import{P as N}from"./PageContainer-Qetv8PV3.js";import{_ as T}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./chrome-mock-BLIE_U1K.js";const K={class:"description"},L={key:0,class:"loading-container"},O={key:1,class:"chains-container"},G=["onClick"],J={class:"card-content"},R={class:"chain-icon"},U=["src","alt"],V={key:1,class:"chain-placeholder"},$={class:"chain-info"},j={class:"chain-selector"},q={key:0,class:"ri-check-line"},z={key:2,class:"error-message"},D={class:"bottom-actions"},H=["disabled"],M={key:0,class:"ri-loader-4-line spinning"},Q=S({__name:"ImportPrivateKeySelectChain",setup(W){const m=b();I();const p=r(!1),c=r(!1),d=r(""),h=r([]),i=r(null),v=r("private_key"),g=P(()=>v.value==="mnemonic"?"Choose the blockchain network for your recovery phrase import":"Choose the blockchain network for your private key import"),y=()=>{m.go(-1)},k=async()=>{try{p.value=!0,d.value="";const s=await(await fetch(`${E.API_BASE_URL}/wallets/get_supported_chains/`)).json();if(s.state==="success")h.value=s.data||[];else throw new Error(s.message||"Failed to load supported chains")}catch(t){d.value=t instanceof Error?t.message:"Failed to load chains",console.error("Failed to load supported chains:",t)}finally{p.value=!1}},C=t=>{i.value=t},w=async()=>{if(i.value)try{c.value=!0,v.value==="mnemonic"?(sessionStorage.setItem("mnemonic_selected_chain",JSON.stringify(i.value)),m.push("/import-mnemonic-input")):(sessionStorage.setItem("import_selected_chain",JSON.stringify(i.value)),m.push("/import-private-key-input"))}catch(t){d.value=t instanceof Error?t.message:"Failed to continue",console.error("Failed to continue:",t)}finally{c.value=!1}};return x(()=>{sessionStorage.getItem("import_type")==="mnemonic"&&(v.value="mnemonic"),k()}),(t,s)=>(a(),B(N,{title:"Select Blockchain","show-header":!0,"show-footer":!0,"show-back-button":!0,"custom-back-action":y,"max-width":"420px",padding:"24px",centered:!0},{footer:_(()=>[e("div",D,[e("button",{class:"continue-btn",disabled:!i.value||c.value,onClick:w},[c.value?(a(),n("i",M)):u("",!0),e("span",null,l(c.value?"Processing...":"Continue"),1)],8,H)])]),default:_(()=>[e("div",K,[e("p",null,l(g.value),1)]),p.value?(a(),n("div",L,s[0]||(s[0]=[e("div",{class:"loading-spinner"},[e("i",{class:"ri-loader-4-line spinning"})],-1),e("p",null,"Loading supported chains...",-1)]))):u("",!0),p.value?u("",!0):(a(),n("div",O,[(a(!0),n(F,null,A(h.value,o=>(a(),n("div",{key:o.chain,class:f(["chain-card",{active:i.value?.chain===o.chain}]),onClick:X=>C(o)},[s[2]||(s[2]=e("div",{class:"card-background"},null,-1)),e("div",J,[e("div",R,[o.logo?(a(),n("img",{key:0,src:o.logo,alt:o.name},null,8,U)):(a(),n("div",V,l((o.chain||o.name||"C").charAt(0).toUpperCase()),1)),s[1]||(s[1]=e("div",{class:"icon-glow"},null,-1))]),e("div",$,[e("h3",null,l(o.name),1),e("p",null,l(o.chain),1)]),e("div",j,[e("div",{class:f(["radio-circle",{selected:i.value?.chain===o.chain}])},[i.value?.chain===o.chain?(a(),n("i",q)):u("",!0)],2)])]),s[3]||(s[3]=e("div",{class:"card-decoration"},[e("div",{class:"decoration-circle"}),e("div",{class:"decoration-line"})],-1))],10,G))),128))])),d.value?(a(),n("div",z,[s[4]||(s[4]=e("i",{class:"ri-error-warning-line"},null,-1)),e("span",null,l(d.value),1)])):u("",!0)]),_:1}))}}),ae=T(Q,[["__scopeId","data-v-aa6de826"]]);export{ae as default};
