import{d as D,r,c as P,o as E,g as M,F as w,f as n,i as s,e as m,C as v,G as p,A as g,E as R,n as _,M as S,B as x,H as B,I as L}from"./auth-DRfzTYJF.js";import{u as V}from"./preload-helper-DW6y3PHv.js";import{R as $}from"./ResponsiveLayout-NikCG07L.js";import{_ as K}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./chrome-mock-0jeXDaAI.js";const N={class:"page-header"},A={class:"header-left"},F={class:"form-container"},U={key:0,class:"selected-chain-info"},W=["src","alt"],J={class:"chain-details"},O={class:"chain-name"},T={class:"chain-code"},q={class:"form-group"},z={key:0,class:"error-message"},G={class:"form-group"},H={class:"password-input-container"},j=["type"],Q={key:0,class:"error-message"},X={key:1,class:"form-group"},Y=["value"],Z={key:2,class:"error-message"},ee={class:"footer"},se=["disabled"],oe=D({__name:"ImportMnemonicInput",setup(ae){const f=V(),t=r(null),l=r(""),i=r(""),y=r("0"),h=r(!1),u=r(""),d=r(""),c=r(""),b=P(()=>t.value&&l.value.trim()&&i.value.trim()&&!d.value&&!c.value),k=()=>l.value.trim().split(/\s+/).length!==12?(d.value="Recovery phrase must contain exactly 12 words",!1):(d.value="",!0),I=()=>i.value.length<6?(c.value="Password must be at least 6 characters",!1):(c.value="",!0),C=async()=>{if(!(!k()||!I()))try{u.value="";const o={mnemonic:l.value.trim(),chain:t.value.chain,payment_password:i.value,kadena_chain_id:t.value.chain==="KDA"?y.value:"0"};console.log("Starting mnemonic import with data:",o),console.log("Redirecting to loading page for mnemonic import and balance refresh"),await f.push({name:"WalletImportLoading",query:{importType:"mnemonic",importData:JSON.stringify(o)}})}catch(o){const e=o instanceof Error?o.message:"Import failed";e.toLowerCase().includes("password")?u.value="Incorrect password. Please check your payment password.":e.toLowerCase().includes("mnemonic")?u.value="Invalid recovery phrase. Please check your mnemonic words.":u.value=e,console.error("Import mnemonic error:",o)}};return E(()=>{const o=sessionStorage.getItem("mnemonic_selected_chain");if(o)try{t.value=JSON.parse(o)}catch(e){console.error("Failed to parse chain data:",e),f.push("/select-chain?mode=import-mnemonic")}else f.push("/select-chain?mode=import-mnemonic");l.value&&k(),i.value&&I()}),(o,e)=>(n(),M($,{title:"Import Recovery Phrase","show-header":!0,"show-footer":!0,scrollable:!0,padding:"16px",onBack:e[5]||(e[5]=a=>o.$router.go(-1))},{header:w(()=>[s("div",N,[s("div",A,[s("button",{onClick:e[0]||(e[0]=a=>o.$router.go(-1)),class:"back-button"},e[6]||(e[6]=[s("i",{class:"ri-arrow-left-line"},null,-1)])),e[7]||(e[7]=s("h1",{class:"header-title"},"Import Recovery Phrase",-1))])])]),footer:w(()=>[s("div",ee,[s("button",{class:"import-btn",disabled:!b.value,onClick:C}," Import Wallet ",8,se)])]),default:w(()=>[s("div",F,[t.value?(n(),m("div",U,[s("img",{src:t.value.logo,alt:t.value.name,class:"chain-logo"},null,8,W),s("div",J,[s("span",O,p(t.value.name),1),s("span",T,p(t.value.chain),1)])])):v("",!0),s("div",q,[e[8]||(e[8]=s("label",null,"Recovery Phrase",-1)),e[9]||(e[9]=s("p",{class:"form-hint"},"Enter your 12-word recovery phrase, separated by spaces",-1)),g(s("textarea",{"onUpdate:modelValue":e[1]||(e[1]=a=>l.value=a),class:_(["mnemonic-input",{error:d.value}]),placeholder:"Enter your 12-word recovery phrase...",rows:"4"},null,2),[[R,l.value]]),d.value?(n(),m("div",z,p(d.value),1)):v("",!0)]),s("div",G,[e[10]||(e[10]=s("label",null,"Payment Password",-1)),e[11]||(e[11]=s("p",{class:"form-hint"},"Enter your payment password to protect the wallet",-1)),s("div",H,[g(s("input",{"onUpdate:modelValue":e[2]||(e[2]=a=>i.value=a),type:h.value?"text":"password",class:_(["password-input",{error:c.value}]),placeholder:"Enter payment password"},null,10,j),[[S,i.value]]),s("button",{type:"button",class:"password-toggle",onClick:e[3]||(e[3]=a=>h.value=!h.value)},[s("i",{class:_(h.value?"ri-eye-off-line":"ri-eye-line")},null,2)])]),c.value?(n(),m("div",Q,p(c.value),1)):v("",!0)]),t.value?.chain==="KDA"?(n(),m("div",X,[e[12]||(e[12]=s("label",null,"Kadena Chain ID",-1)),e[13]||(e[13]=s("p",{class:"form-hint"},"Select the Kadena chain ID (0-19)",-1)),g(s("select",{"onUpdate:modelValue":e[4]||(e[4]=a=>y.value=a),class:"kadena-select"},[(n(),m(B,null,L(20,a=>s("option",{key:a-1,value:(a-1).toString()}," Chain "+p(a-1),9,Y)),64))],512),[[x,y.value]])])):v("",!0),u.value?(n(),m("div",Z,p(u.value),1)):v("",!0)])]),_:1}))}}),ue=K(oe,[["__scopeId","data-v-63513a55"]]);export{ue as default};
