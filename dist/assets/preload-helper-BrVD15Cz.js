import{s as it,d as Ke,h as Z,p as ut,q as ft,t as U,c as B,v as Qe,x as he,r as G,w as dt,y as ht,z as pt,u as Ce}from"./auth-CcrM1kjR.js";import{A as pe,M as X}from"./index-DSub5CB9.js";import{i as mt}from"./chrome-mock-BLIE_U1K.js";/*!
  * vue-router v4.5.1
  * (c) 2025 Eduardo San Martin Morote
  * @license MIT
  */const V=typeof document<"u";function De(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function gt(e){return e.__esModule||e[Symbol.toStringTag]==="Module"||e.default&&De(e.default)}const k=Object.assign;function me(e,t){const n={};for(const r in t){const s=t[r];n[r]=j(s)?s.map(e):e(s)}return n}const ee=()=>{},j=Array.isArray,Ye=/#/g,vt=/&/g,yt=/\//g,wt=/=/g,Et=/\?/g,Xe=/\+/g,_t=/%5B/g,Rt=/%5D/g,Je=/%5E/g,St=/%60/g,Ze=/%7B/g,Pt=/%7C/g,et=/%7D/g,bt=/%20/g;function _e(e){return encodeURI(""+e).replace(Pt,"|").replace(_t,"[").replace(Rt,"]")}function kt(e){return _e(e).replace(Ze,"{").replace(et,"}").replace(Je,"^")}function ye(e){return _e(e).replace(Xe,"%2B").replace(bt,"+").replace(Ye,"%23").replace(vt,"%26").replace(St,"`").replace(Ze,"{").replace(et,"}").replace(Je,"^")}function At(e){return ye(e).replace(wt,"%3D")}function Ct(e){return _e(e).replace(Ye,"%23").replace(Et,"%3F")}function Ot(e){return e==null?"":Ct(e).replace(yt,"%2F")}function ne(e){try{return decodeURIComponent(""+e)}catch{}return""+e}const It=/\/$/,Tt=e=>e.replace(It,"");function ge(e,t,n="/"){let r,s={},c="",h="";const m=t.indexOf("#");let o=t.indexOf("?");return m<o&&m>=0&&(o=-1),o>-1&&(r=t.slice(0,o),c=t.slice(o+1,m>-1?m:t.length),s=e(c)),m>-1&&(r=r||t.slice(0,m),h=t.slice(m,t.length)),r=Nt(r??t,n),{fullPath:r+(c&&"?")+c+h,path:r,query:s,hash:ne(h)}}function Lt(e,t){const n=t.query?e(t.query):"";return t.path+(n&&"?")+n+(t.hash||"")}function Oe(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function xt(e,t,n){const r=t.matched.length-1,s=n.matched.length-1;return r>-1&&r===s&&K(t.matched[r],n.matched[s])&&tt(t.params,n.params)&&e(t.query)===e(n.query)&&t.hash===n.hash}function K(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function tt(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(!Mt(e[n],t[n]))return!1;return!0}function Mt(e,t){return j(e)?Ie(e,t):j(t)?Ie(t,e):e===t}function Ie(e,t){return j(t)?e.length===t.length&&e.every((n,r)=>n===t[r]):e.length===1&&e[0]===t}function Nt(e,t){if(e.startsWith("/"))return e;if(!e)return t;const n=t.split("/"),r=e.split("/"),s=r[r.length-1];(s===".."||s===".")&&r.push("");let c=n.length-1,h,m;for(h=0;h<r.length;h++)if(m=r[h],m!==".")if(m==="..")c>1&&c--;else break;return n.slice(0,c).join("/")+"/"+r.slice(h).join("/")}const q={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var re;(function(e){e.pop="pop",e.push="push"})(re||(re={}));var te;(function(e){e.back="back",e.forward="forward",e.unknown=""})(te||(te={}));function Wt(e){if(!e)if(V){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),Tt(e)}const $t=/^[^#]+#/;function Bt(e,t){return e.replace($t,"#")+t}function jt(e,t){const n=document.documentElement.getBoundingClientRect(),r=e.getBoundingClientRect();return{behavior:t.behavior,left:r.left-n.left-(t.left||0),top:r.top-n.top-(t.top||0)}}const ae=()=>({left:window.scrollX,top:window.scrollY});function Ht(e){let t;if("el"in e){const n=e.el,r=typeof n=="string"&&n.startsWith("#"),s=typeof n=="string"?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!s)return;t=jt(s,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.scrollX,t.top!=null?t.top:window.scrollY)}function Te(e,t){return(history.state?history.state.position-t:-1)+e}const we=new Map;function qt(e,t){we.set(e,t)}function Ft(e){const t=we.get(e);return we.delete(e),t}let Ut=()=>location.protocol+"//"+location.host;function nt(e,t){const{pathname:n,search:r,hash:s}=t,c=e.indexOf("#");if(c>-1){let m=s.includes(e.slice(c))?e.slice(c).length:1,o=s.slice(m);return o[0]!=="/"&&(o="/"+o),Oe(o,"")}return Oe(n,e)+r+s}function zt(e,t,n,r){let s=[],c=[],h=null;const m=({state:u})=>{const f=nt(e,location),R=n.value,A=t.value;let I=0;if(u){if(n.value=f,t.value=u,h&&h===R){h=null;return}I=A?u.position-A.position:0}else r(f);s.forEach(T=>{T(n.value,R,{delta:I,type:re.pop,direction:I?I>0?te.forward:te.back:te.unknown})})};function o(){h=n.value}function i(u){s.push(u);const f=()=>{const R=s.indexOf(u);R>-1&&s.splice(R,1)};return c.push(f),f}function p(){const{history:u}=window;u.state&&u.replaceState(k({},u.state,{scroll:ae()}),"")}function l(){for(const u of c)u();c=[],window.removeEventListener("popstate",m),window.removeEventListener("beforeunload",p)}return window.addEventListener("popstate",m),window.addEventListener("beforeunload",p,{passive:!0}),{pauseListeners:o,listen:i,destroy:l}}function Le(e,t,n,r=!1,s=!1){return{back:e,current:t,forward:n,replaced:r,position:window.history.length,scroll:s?ae():null}}function Gt(e){const{history:t,location:n}=window,r={value:nt(e,n)},s={value:t.state};s.value||c(r.value,{back:null,current:r.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function c(o,i,p){const l=e.indexOf("#"),u=l>-1?(n.host&&document.querySelector("base")?e:e.slice(l))+o:Ut()+e+o;try{t[p?"replaceState":"pushState"](i,"",u),s.value=i}catch(f){console.error(f),n[p?"replace":"assign"](u)}}function h(o,i){const p=k({},t.state,Le(s.value.back,o,s.value.forward,!0),i,{position:s.value.position});c(o,p,!0),r.value=o}function m(o,i){const p=k({},s.value,t.state,{forward:o,scroll:ae()});c(p.current,p,!0);const l=k({},Le(r.value,o,null),{position:p.position+1},i);c(o,l,!1),r.value=o}return{location:r,state:s,push:m,replace:h}}function Vt(e){e=Wt(e);const t=Gt(e),n=zt(e,t.state,t.location,t.replace);function r(c,h=!0){h||n.pauseListeners(),history.go(c)}const s=k({location:"",base:e,go:r,createHref:Bt.bind(null,e)},t,n);return Object.defineProperty(s,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(s,"state",{enumerable:!0,get:()=>t.state.value}),s}function Pn(e){return e=location.host?e||location.pathname+location.search:"",e.includes("#")||(e+="#"),Vt(e)}function Kt(e){return typeof e=="string"||e&&typeof e=="object"}function rt(e){return typeof e=="string"||typeof e=="symbol"}const st=Symbol("");var xe;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(xe||(xe={}));function Q(e,t){return k(new Error,{type:e,[st]:!0},t)}function H(e,t){return e instanceof Error&&st in e&&(t==null||!!(e.type&t))}const Me="[^/]+?",Qt={sensitive:!1,strict:!1,start:!0,end:!0},Dt=/[.+*?^${}()[\]/\\]/g;function Yt(e,t){const n=k({},Qt,t),r=[];let s=n.start?"^":"";const c=[];for(const i of e){const p=i.length?[]:[90];n.strict&&!i.length&&(s+="/");for(let l=0;l<i.length;l++){const u=i[l];let f=40+(n.sensitive?.25:0);if(u.type===0)l||(s+="/"),s+=u.value.replace(Dt,"\\$&"),f+=40;else if(u.type===1){const{value:R,repeatable:A,optional:I,regexp:T}=u;c.push({name:R,repeatable:A,optional:I});const b=T||Me;if(b!==Me){f+=10;try{new RegExp(`(${b})`)}catch(v){throw new Error(`Invalid custom RegExp for param "${R}" (${b}): `+v.message)}}let d=A?`((?:${b})(?:/(?:${b}))*)`:`(${b})`;l||(d=I&&i.length<2?`(?:/${d})`:"/"+d),I&&(d+="?"),s+=d,f+=20,I&&(f+=-8),A&&(f+=-20),b===".*"&&(f+=-50)}p.push(f)}r.push(p)}if(n.strict&&n.end){const i=r.length-1;r[i][r[i].length-1]+=.7000000000000001}n.strict||(s+="/?"),n.end?s+="$":n.strict&&!s.endsWith("/")&&(s+="(?:/|$)");const h=new RegExp(s,n.sensitive?"":"i");function m(i){const p=i.match(h),l={};if(!p)return null;for(let u=1;u<p.length;u++){const f=p[u]||"",R=c[u-1];l[R.name]=f&&R.repeatable?f.split("/"):f}return l}function o(i){let p="",l=!1;for(const u of e){(!l||!p.endsWith("/"))&&(p+="/"),l=!1;for(const f of u)if(f.type===0)p+=f.value;else if(f.type===1){const{value:R,repeatable:A,optional:I}=f,T=R in i?i[R]:"";if(j(T)&&!A)throw new Error(`Provided param "${R}" is an array but it is not repeatable (* or + modifiers)`);const b=j(T)?T.join("/"):T;if(!b)if(I)u.length<2&&(p.endsWith("/")?p=p.slice(0,-1):l=!0);else throw new Error(`Missing required param "${R}"`);p+=b}}return p||"/"}return{re:h,score:r,keys:c,parse:m,stringify:o}}function Xt(e,t){let n=0;for(;n<e.length&&n<t.length;){const r=t[n]-e[n];if(r)return r;n++}return e.length<t.length?e.length===1&&e[0]===80?-1:1:e.length>t.length?t.length===1&&t[0]===80?1:-1:0}function ot(e,t){let n=0;const r=e.score,s=t.score;for(;n<r.length&&n<s.length;){const c=Xt(r[n],s[n]);if(c)return c;n++}if(Math.abs(s.length-r.length)===1){if(Ne(r))return 1;if(Ne(s))return-1}return s.length-r.length}function Ne(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const Jt={type:0,value:""},Zt=/[a-zA-Z0-9_]/;function en(e){if(!e)return[[]];if(e==="/")return[[Jt]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(f){throw new Error(`ERR (${n})/"${i}": ${f}`)}let n=0,r=n;const s=[];let c;function h(){c&&s.push(c),c=[]}let m=0,o,i="",p="";function l(){i&&(n===0?c.push({type:0,value:i}):n===1||n===2||n===3?(c.length>1&&(o==="*"||o==="+")&&t(`A repeatable param (${i}) must be alone in its segment. eg: '/:ids+.`),c.push({type:1,value:i,regexp:p,repeatable:o==="*"||o==="+",optional:o==="*"||o==="?"})):t("Invalid state to consume buffer"),i="")}function u(){i+=o}for(;m<e.length;){if(o=e[m++],o==="\\"&&n!==2){r=n,n=4;continue}switch(n){case 0:o==="/"?(i&&l(),h()):o===":"?(l(),n=1):u();break;case 4:u(),n=r;break;case 1:o==="("?n=2:Zt.test(o)?u():(l(),n=0,o!=="*"&&o!=="?"&&o!=="+"&&m--);break;case 2:o===")"?p[p.length-1]=="\\"?p=p.slice(0,-1)+o:n=3:p+=o;break;case 3:l(),n=0,o!=="*"&&o!=="?"&&o!=="+"&&m--,p="";break;default:t("Unknown state");break}}return n===2&&t(`Unfinished custom RegExp for param "${i}"`),l(),h(),s}function tn(e,t,n){const r=Yt(en(e.path),n),s=k(r,{record:e,parent:t,children:[],alias:[]});return t&&!s.record.aliasOf==!t.record.aliasOf&&t.children.push(s),s}function nn(e,t){const n=[],r=new Map;t=je({strict:!1,end:!0,sensitive:!1},t);function s(l){return r.get(l)}function c(l,u,f){const R=!f,A=$e(l);A.aliasOf=f&&f.record;const I=je(t,l),T=[A];if("alias"in l){const v=typeof l.alias=="string"?[l.alias]:l.alias;for(const C of v)T.push($e(k({},A,{components:f?f.record.components:A.components,path:C,aliasOf:f?f.record:A})))}let b,d;for(const v of T){const{path:C}=v;if(u&&C[0]!=="/"){const L=u.record.path,E=L[L.length-1]==="/"?"":"/";v.path=u.record.path+(C&&E+C)}if(b=tn(v,u,I),f?f.alias.push(b):(d=d||b,d!==b&&d.alias.push(b),R&&l.name&&!Be(b)&&h(l.name)),at(b)&&o(b),A.children){const L=A.children;for(let E=0;E<L.length;E++)c(L[E],b,f&&f.children[E])}f=f||b}return d?()=>{h(d)}:ee}function h(l){if(rt(l)){const u=r.get(l);u&&(r.delete(l),n.splice(n.indexOf(u),1),u.children.forEach(h),u.alias.forEach(h))}else{const u=n.indexOf(l);u>-1&&(n.splice(u,1),l.record.name&&r.delete(l.record.name),l.children.forEach(h),l.alias.forEach(h))}}function m(){return n}function o(l){const u=on(l,n);n.splice(u,0,l),l.record.name&&!Be(l)&&r.set(l.record.name,l)}function i(l,u){let f,R={},A,I;if("name"in l&&l.name){if(f=r.get(l.name),!f)throw Q(1,{location:l});I=f.record.name,R=k(We(u.params,f.keys.filter(d=>!d.optional).concat(f.parent?f.parent.keys.filter(d=>d.optional):[]).map(d=>d.name)),l.params&&We(l.params,f.keys.map(d=>d.name))),A=f.stringify(R)}else if(l.path!=null)A=l.path,f=n.find(d=>d.re.test(A)),f&&(R=f.parse(A),I=f.record.name);else{if(f=u.name?r.get(u.name):n.find(d=>d.re.test(u.path)),!f)throw Q(1,{location:l,currentLocation:u});I=f.record.name,R=k({},u.params,l.params),A=f.stringify(R)}const T=[];let b=f;for(;b;)T.unshift(b.record),b=b.parent;return{name:I,path:A,params:R,matched:T,meta:sn(T)}}e.forEach(l=>c(l));function p(){n.length=0,r.clear()}return{addRoute:c,resolve:i,removeRoute:h,clearRoutes:p,getRoutes:m,getRecordMatcher:s}}function We(e,t){const n={};for(const r of t)r in e&&(n[r]=e[r]);return n}function $e(e){const t={path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:e.aliasOf,beforeEnter:e.beforeEnter,props:rn(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}};return Object.defineProperty(t,"mods",{value:{}}),t}function rn(e){const t={},n=e.props||!1;if("component"in e)t.default=n;else for(const r in e.components)t[r]=typeof n=="object"?n[r]:n;return t}function Be(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function sn(e){return e.reduce((t,n)=>k(t,n.meta),{})}function je(e,t){const n={};for(const r in e)n[r]=r in t?t[r]:e[r];return n}function on(e,t){let n=0,r=t.length;for(;n!==r;){const c=n+r>>1;ot(e,t[c])<0?r=c:n=c+1}const s=an(e);return s&&(r=t.lastIndexOf(s,r-1)),r}function an(e){let t=e;for(;t=t.parent;)if(at(t)&&ot(e,t)===0)return t}function at({record:e}){return!!(e.name||e.components&&Object.keys(e.components).length||e.redirect)}function ln(e){const t={};if(e===""||e==="?")return t;const r=(e[0]==="?"?e.slice(1):e).split("&");for(let s=0;s<r.length;++s){const c=r[s].replace(Xe," "),h=c.indexOf("="),m=ne(h<0?c:c.slice(0,h)),o=h<0?null:ne(c.slice(h+1));if(m in t){let i=t[m];j(i)||(i=t[m]=[i]),i.push(o)}else t[m]=o}return t}function He(e){let t="";for(let n in e){const r=e[n];if(n=At(n),r==null){r!==void 0&&(t+=(t.length?"&":"")+n);continue}(j(r)?r.map(c=>c&&ye(c)):[r&&ye(r)]).forEach(c=>{c!==void 0&&(t+=(t.length?"&":"")+n,c!=null&&(t+="="+c))})}return t}function cn(e){const t={};for(const n in e){const r=e[n];r!==void 0&&(t[n]=j(r)?r.map(s=>s==null?null:""+s):r==null?r:""+r)}return t}const un=Symbol(""),qe=Symbol(""),le=Symbol(""),Re=Symbol(""),Ee=Symbol("");function J(){let e=[];function t(r){return e.push(r),()=>{const s=e.indexOf(r);s>-1&&e.splice(s,1)}}function n(){e=[]}return{add:t,list:()=>e.slice(),reset:n}}function F(e,t,n,r,s,c=h=>h()){const h=r&&(r.enterCallbacks[s]=r.enterCallbacks[s]||[]);return()=>new Promise((m,o)=>{const i=u=>{u===!1?o(Q(4,{from:n,to:t})):u instanceof Error?o(u):Kt(u)?o(Q(2,{from:t,to:u})):(h&&r.enterCallbacks[s]===h&&typeof u=="function"&&h.push(u),m())},p=c(()=>e.call(r&&r.instances[s],t,n,i));let l=Promise.resolve(p);e.length<3&&(l=l.then(i)),l.catch(u=>o(u))})}function ve(e,t,n,r,s=c=>c()){const c=[];for(const h of e)for(const m in h.components){let o=h.components[m];if(!(t!=="beforeRouteEnter"&&!h.instances[m]))if(De(o)){const p=(o.__vccOpts||o)[t];p&&c.push(F(p,n,r,h,m,s))}else{let i=o();c.push(()=>i.then(p=>{if(!p)throw new Error(`Couldn't resolve component "${m}" at "${h.path}"`);const l=gt(p)?p.default:p;h.mods[m]=p,h.components[m]=l;const f=(l.__vccOpts||l)[t];return f&&F(f,n,r,h,m,s)()}))}}return c}function Fe(e){const t=U(le),n=U(Re),r=B(()=>{const o=Z(e.to);return t.resolve(o)}),s=B(()=>{const{matched:o}=r.value,{length:i}=o,p=o[i-1],l=n.matched;if(!p||!l.length)return-1;const u=l.findIndex(K.bind(null,p));if(u>-1)return u;const f=Ue(o[i-2]);return i>1&&Ue(p)===f&&l[l.length-1].path!==f?l.findIndex(K.bind(null,o[i-2])):u}),c=B(()=>s.value>-1&&mn(n.params,r.value.params)),h=B(()=>s.value>-1&&s.value===n.matched.length-1&&tt(n.params,r.value.params));function m(o={}){if(pn(o)){const i=t[Z(e.replace)?"replace":"push"](Z(e.to)).catch(ee);return e.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>i),i}return Promise.resolve()}return{route:r,href:B(()=>r.value.href),isActive:c,isExactActive:h,navigate:m}}function fn(e){return e.length===1?e[0]:e}const dn=Ke({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"},viewTransition:Boolean},useLink:Fe,setup(e,{slots:t}){const n=ft(Fe(e)),{options:r}=U(le),s=B(()=>({[ze(e.activeClass,r.linkActiveClass,"router-link-active")]:n.isActive,[ze(e.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const c=t.default&&fn(t.default(n));return e.custom?c:Qe("a",{"aria-current":n.isExactActive?e.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:s.value},c)}}}),hn=dn;function pn(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function mn(e,t){for(const n in t){const r=t[n],s=e[n];if(typeof r=="string"){if(r!==s)return!1}else if(!j(s)||s.length!==r.length||r.some((c,h)=>c!==s[h]))return!1}return!0}function Ue(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const ze=(e,t,n)=>e??t??n,gn=Ke({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:n}){const r=U(Ee),s=B(()=>e.route||r.value),c=U(qe,0),h=B(()=>{let i=Z(c);const{matched:p}=s.value;let l;for(;(l=p[i])&&!l.components;)i++;return i}),m=B(()=>s.value.matched[h.value]);he(qe,B(()=>h.value+1)),he(un,m),he(Ee,s);const o=G();return dt(()=>[o.value,m.value,e.name],([i,p,l],[u,f,R])=>{p&&(p.instances[l]=i,f&&f!==p&&i&&i===u&&(p.leaveGuards.size||(p.leaveGuards=f.leaveGuards),p.updateGuards.size||(p.updateGuards=f.updateGuards))),i&&p&&(!f||!K(p,f)||!u)&&(p.enterCallbacks[l]||[]).forEach(A=>A(i))},{flush:"post"}),()=>{const i=s.value,p=e.name,l=m.value,u=l&&l.components[p];if(!u)return Ge(n.default,{Component:u,route:i});const f=l.props[p],R=f?f===!0?i.params:typeof f=="function"?f(i):f:null,I=Qe(u,k({},R,t,{onVnodeUnmounted:T=>{T.component.isUnmounted&&(l.instances[p]=null)},ref:o}));return Ge(n.default,{Component:I,route:i})||I}}});function Ge(e,t){if(!e)return null;const n=e(t);return n.length===1?n[0]:n}const vn=gn;function bn(e){const t=nn(e.routes,e),n=e.parseQuery||ln,r=e.stringifyQuery||He,s=e.history,c=J(),h=J(),m=J(),o=it(q);let i=q;V&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const p=me.bind(null,a=>""+a),l=me.bind(null,Ot),u=me.bind(null,ne);function f(a,y){let g,w;return rt(a)?(g=t.getRecordMatcher(a),w=y):w=a,t.addRoute(w,g)}function R(a){const y=t.getRecordMatcher(a);y&&t.removeRoute(y)}function A(){return t.getRoutes().map(a=>a.record)}function I(a){return!!t.getRecordMatcher(a)}function T(a,y){if(y=k({},y||o.value),typeof a=="string"){const _=ge(n,a,y.path),M=t.resolve({path:_.path},y),Y=s.createHref(_.fullPath);return k(_,M,{params:u(M.params),hash:ne(_.hash),redirectedFrom:void 0,href:Y})}let g;if(a.path!=null)g=k({},a,{path:ge(n,a.path,y.path).path});else{const _=k({},a.params);for(const M in _)_[M]==null&&delete _[M];g=k({},a,{params:l(_)}),y.params=l(y.params)}const w=t.resolve(g,y),O=a.hash||"";w.params=p(u(w.params));const x=Lt(r,k({},a,{hash:kt(O),path:w.path})),P=s.createHref(x);return k({fullPath:x,hash:O,query:r===He?cn(a.query):a.query||{}},w,{redirectedFrom:void 0,href:P})}function b(a){return typeof a=="string"?ge(n,a,o.value.path):k({},a)}function d(a,y){if(i!==a)return Q(8,{from:y,to:a})}function v(a){return E(a)}function C(a){return v(k(b(a),{replace:!0}))}function L(a){const y=a.matched[a.matched.length-1];if(y&&y.redirect){const{redirect:g}=y;let w=typeof g=="function"?g(a):g;return typeof w=="string"&&(w=w.includes("?")||w.includes("#")?w=b(w):{path:w},w.params={}),k({query:a.query,hash:a.hash,params:w.path!=null?{}:a.params},w)}}function E(a,y){const g=i=T(a),w=o.value,O=a.state,x=a.force,P=a.replace===!0,_=L(g);if(_)return E(k(b(_),{state:typeof _=="object"?k({},O,_.state):O,force:x,replace:P}),y||g);const M=g;M.redirectedFrom=y;let Y;return!x&&xt(r,w,g)&&(Y=Q(16,{to:M,from:w}),ke(w,w,!0,!1)),(Y?Promise.resolve(Y):N(M,w)).catch($=>H($)?H($,2)?$:ue($):ie($,M,w)).then($=>{if($){if(H($,2))return E(k({replace:P},b($.to),{state:typeof $.to=="object"?k({},O,$.to.state):O,force:x}),y||M)}else $=Pe(M,w,!0,P,O);return Se(M,w,$),$})}function S(a,y){const g=d(a,y);return g?Promise.reject(g):Promise.resolve()}function W(a){const y=oe.values().next().value;return y&&typeof y.runWithContext=="function"?y.runWithContext(a):a()}function N(a,y){let g;const[w,O,x]=yn(a,y);g=ve(w.reverse(),"beforeRouteLeave",a,y);for(const _ of w)_.leaveGuards.forEach(M=>{g.push(F(M,a,y))});const P=S.bind(null,a,y);return g.push(P),z(g).then(()=>{g=[];for(const _ of c.list())g.push(F(_,a,y));return g.push(P),z(g)}).then(()=>{g=ve(O,"beforeRouteUpdate",a,y);for(const _ of O)_.updateGuards.forEach(M=>{g.push(F(M,a,y))});return g.push(P),z(g)}).then(()=>{g=[];for(const _ of x)if(_.beforeEnter)if(j(_.beforeEnter))for(const M of _.beforeEnter)g.push(F(M,a,y));else g.push(F(_.beforeEnter,a,y));return g.push(P),z(g)}).then(()=>(a.matched.forEach(_=>_.enterCallbacks={}),g=ve(x,"beforeRouteEnter",a,y,W),g.push(P),z(g))).then(()=>{g=[];for(const _ of h.list())g.push(F(_,a,y));return g.push(P),z(g)}).catch(_=>H(_,8)?_:Promise.reject(_))}function Se(a,y,g){m.list().forEach(w=>W(()=>w(a,y,g)))}function Pe(a,y,g,w,O){const x=d(a,y);if(x)return x;const P=y===q,_=V?history.state:{};g&&(w||P?s.replace(a.fullPath,k({scroll:P&&_&&_.scroll},O)):s.push(a.fullPath,O)),o.value=a,ke(a,y,g,P),ue()}let D;function lt(){D||(D=s.listen((a,y,g)=>{if(!Ae.listening)return;const w=T(a),O=L(w);if(O){E(k(O,{replace:!0,force:!0}),w).catch(ee);return}i=w;const x=o.value;V&&qt(Te(x.fullPath,g.delta),ae()),N(w,x).catch(P=>H(P,12)?P:H(P,2)?(E(k(b(P.to),{force:!0}),w).then(_=>{H(_,20)&&!g.delta&&g.type===re.pop&&s.go(-1,!1)}).catch(ee),Promise.reject()):(g.delta&&s.go(-g.delta,!1),ie(P,w,x))).then(P=>{P=P||Pe(w,x,!1),P&&(g.delta&&!H(P,8)?s.go(-g.delta,!1):g.type===re.pop&&H(P,20)&&s.go(-1,!1)),Se(w,x,P)}).catch(ee)}))}let ce=J(),be=J(),se;function ie(a,y,g){ue(a);const w=be.list();return w.length?w.forEach(O=>O(a,y,g)):console.error(a),Promise.reject(a)}function ct(){return se&&o.value!==q?Promise.resolve():new Promise((a,y)=>{ce.add([a,y])})}function ue(a){return se||(se=!a,lt(),ce.list().forEach(([y,g])=>a?g(a):y()),ce.reset()),a}function ke(a,y,g,w){const{scrollBehavior:O}=e;if(!V||!O)return Promise.resolve();const x=!g&&Ft(Te(a.fullPath,0))||(w||!g)&&history.state&&history.state.scroll||null;return ht().then(()=>O(a,y,x)).then(P=>P&&Ht(P)).catch(P=>ie(P,a,y))}const fe=a=>s.go(a);let de;const oe=new Set,Ae={currentRoute:o,listening:!0,addRoute:f,removeRoute:R,clearRoutes:t.clearRoutes,hasRoute:I,getRoutes:A,resolve:T,options:e,push:v,replace:C,go:fe,back:()=>fe(-1),forward:()=>fe(1),beforeEach:c.add,beforeResolve:h.add,afterEach:m.add,onError:be.add,isReady:ct,install(a){const y=this;a.component("RouterLink",hn),a.component("RouterView",vn),a.config.globalProperties.$router=y,Object.defineProperty(a.config.globalProperties,"$route",{enumerable:!0,get:()=>Z(o)}),V&&!de&&o.value===q&&(de=!0,v(s.location).catch(O=>{}));const g={};for(const O in q)Object.defineProperty(g,O,{get:()=>o.value[O],enumerable:!0});a.provide(le,y),a.provide(Re,ut(g)),a.provide(Ee,o);const w=a.unmount;oe.add(a),a.unmount=function(){oe.delete(a),oe.size<1&&(i=q,D&&D(),D=null,o.value=q,de=!1,se=!1),w()}}};function z(a){return a.reduce((y,g)=>y.then(()=>W(g)),Promise.resolve())}return Ae}function yn(e,t){const n=[],r=[],s=[],c=Math.max(t.matched.length,e.matched.length);for(let h=0;h<c;h++){const m=t.matched[h];m&&(e.matched.find(i=>K(i,m))?r.push(m):n.push(m));const o=e.matched[h];o&&(t.matched.find(i=>K(i,o))||s.push(o))}return[n,r,s]}function kn(){return U(le)}function An(e){return U(Re)}const Cn="/icons/icon128.png",On=pt("wallet",()=>{const e=G([]),t=G(null),n=G({}),r=G(!1),s=G(null),c=B(()=>t.value?n.value[t.value.id]?.tokens||[]:[]),h=B(()=>t.value&&n.value[t.value.id]?.total_value_usd||"0"),m=async(d,v)=>new Promise((C,L)=>{chrome.runtime.sendMessage({type:d,data:v},E=>{if(chrome.runtime.lastError){L(new Error(chrome.runtime.lastError.message));return}E.success?C(E.data):L(new Error(E.error||"Unknown error"))})}),o=async(d=!0)=>{try{r.value=!0,s.value=null;const v=Ce();if(!v.deviceId){console.log("No device ID found, cannot load wallets"),e.value=[];return}console.log("Loading wallets for device:",v.deviceId);const L=await(await fetch(`${pe.API_BASE_URL}/wallets/?device_id=${v.deviceId}`)).json();if(console.log("Wallets API response:",L),L.state==="success"){if(e.value=L.data||[],console.log("Loaded wallets:",e.value),d&&e.value.length>0&&!t.value)try{console.log("Attempting to restore current wallet...");const E=await m("GET_CURRENT_WALLET");if(console.log("Saved wallet data:",E),E&&E.walletId){const S=E.walletId;console.log("Looking for wallet with ID:",S),console.log("Available wallets:",e.value.map(N=>({id:N.id,chain:N.chain,name:N.name})));const W=e.value.find(N=>N.id===S);W?(t.value=W,console.log("✅ Restored current wallet:",W.id,W.chain,W.name)):(console.log("❌ Saved wallet not found, selecting first wallet"),t.value=e.value[0],console.log("Selected first wallet:",e.value[0].id,e.value[0].chain,e.value[0].name))}else console.log("❌ No saved wallet data, selecting first wallet"),t.value=e.value[0],console.log("Selected first wallet:",e.value[0].id,e.value[0].chain,e.value[0].name)}catch(E){console.error("❌ Failed to restore current wallet:",E),t.value=e.value[0],console.log("Selected first wallet due to error:",e.value[0].id,e.value[0].chain,e.value[0].name)}}else throw new Error(L.message||"Failed to load wallets")}catch(v){s.value=v instanceof Error?v.message:"Failed to load wallets",console.error("Failed to load wallets:",v)}finally{r.value=!1}},i=async d=>{try{r.value=!0,s.value=null;const v=await m(X.CREATE_WALLET,d);return await o(),v}catch(v){throw s.value=v instanceof Error?v.message:"Failed to create wallet",v}finally{r.value=!1}},p=async d=>{try{if(r.value=!0,s.value=null,mt()){const v=await m(X.IMPORT_WALLET,d);return await o(),v}else{const v=Ce();if(!v.deviceId)throw new Error("Device ID not found");const C={device_id:v.deviceId,chain:d.chain,payment_password:d.payment_password,kadena_chain_id:d.kadena_chain_id||"0"};d.private_key?Object.assign(C,{private_key:d.private_key}):d.mnemonic?Object.assign(C,{mnemonic:d.mnemonic}):d.address&&Object.assign(C,{address:d.address}),console.log("Import wallet request data:",C);let L="/wallets/import_private_key/";d.mnemonic?L="/wallets/import_by_mnemonic/":d.address&&(L="/wallets/import_watch_only/");const E=await fetch(`${pe.API_BASE_URL}${L}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(C)}),S=await E.json();if(console.log("Import wallet response:",{status:E.status,statusText:E.statusText,data:S}),E.ok&&S.state==="success")return await o(),S.data;if(console.error("Import wallet failed:",S),console.error("Response status:",E.status),console.error("Response ok:",E.ok),console.error("Data state:",S.state),console.error("Error message:",S.message),console.error("Non field errors:",S.non_field_errors),console.error("Full error data:",JSON.stringify(S,null,2)),E.status===400){let W="";S.message?W=S.message:S.non_field_errors&&Array.isArray(S.non_field_errors)&&S.non_field_errors.length>0?W=S.non_field_errors[0]:S.error?W=S.error:typeof S=="string"&&(W=S);const N=W.toLowerCase();throw console.log("Checking error message:",W),console.log("Lowercase error message:",N),N.includes("password")?new Error("Incorrect password. Please check your payment password."):N.includes("private key")||N.includes("privatekey")?new Error("Invalid private key. Please check your private key format."):N.includes("mnemonic")||N.includes("recovery phrase")?new Error("Invalid recovery phrase. Please check your 12-word phrase."):N.includes("invalid")||N.includes("wrong")||N.includes("incorrect")?new Error("Invalid input. Please check your private key and password."):new Error(W||"Invalid request. Please check your input.")}else throw E.status===401?new Error("Authentication failed. Please check your password."):E.status===403?new Error("Access denied. Please check your permissions."):E.status===404?new Error("Service not found. Please try again later."):E.status>=500?new Error("Server error. Please try again later."):new Error(S.message||"Import failed. Please try again.")}}catch(v){throw s.value=v instanceof Error?v.message:"Failed to import wallet",v}finally{r.value=!1}},l=async d=>await p({mnemonic:d.mnemonic,chain:d.chain,payment_password:d.payment_password,kadena_chain_id:d.kadena_chain_id||"0"}),u=async d=>{try{r.value=!0,s.value=null,await m(X.DELETE_WALLET,{walletId:d}),e.value=e.value.filter(v=>v.id!==d),t.value?.id===d&&(t.value=e.value.length>0?e.value[0]:null),delete n.value[d]}catch(v){throw s.value=v instanceof Error?v.message:"Failed to delete wallet",v}finally{r.value=!1}},f=async d=>{console.log("🔄 Setting current wallet:",d.id,d.chain,d.name),t.value=d;try{await m("SET_CURRENT_WALLET",{walletId:d.id}),console.log("✅ Current wallet saved to storage:",d.id)}catch(v){console.error("❌ Failed to save current wallet:",v)}n.value[d.id]||R(d.id)},R=async d=>{try{console.log("Loading balance for wallet:",d);const C=await(await fetch(`${pe.API_BASE_URL}/wallets/${d}/get_all_balances/`)).json();if(console.log("Balance API response:",C),C.status==="success"){const L=(C.tokens||[]).map(S=>({token_address:S.token_address||"",symbol:S.symbol||"",name:S.name||"",decimals:S.decimals||18,balance:S.balance_formatted||S.balance?.toString()||"0",balance_usd:S.value_usd?.toString()||"0",price_usd:S.current_price_usd?.toString()||"0",price_change_24h:S.price_change_percentage_24h?.toString()||"0",logo_url:S.logo,is_visible:S.is_visible!==!1,imageError:!1})),E={wallet_id:C.wallet_id||d,chain:C.chain||"",total_value_usd:C.total_value_usd||"0",total_value_change_24h:C.total_value_change_24h||"0",total_change_percentage:C.total_change_percentage||"0",tokens:L,timestamp:Date.now()};n.value[d]=E,console.log("Balance updated for wallet:",d,E)}else throw new Error(C.message||"Failed to load balance")}catch(v){console.error("Failed to load wallet balance:",v)}};return{wallets:e,currentWallet:t,balances:n,loading:r,error:s,currentWalletTokens:c,totalBalance:h,loadWallets:o,createWallet:i,importWallet:p,importMnemonic:l,deleteWallet:u,setCurrentWallet:f,loadWalletBalance:R,refreshWalletBalance:async d=>{try{r.value=!0,await m("REFRESH_TOKEN_PRICES",{walletId:d}),await R(d)}catch(v){throw s.value=v instanceof Error?v.message:"Failed to refresh balance",v}finally{r.value=!1}},transfer:async d=>{try{r.value=!0,s.value=null;const v=await m(X.TRANSFER,d);return await R(d.walletId),v}catch(v){throw s.value=v instanceof Error?v.message:"Transfer failed",v}finally{r.value=!1}},swap:async d=>{try{r.value=!0,s.value=null;const v=await m(X.SWAP,d);return await R(d.walletId),v}catch(v){throw s.value=v instanceof Error?v.message:"Swap failed",v}finally{r.value=!1}},reset:()=>{e.value=[],t.value=null,n.value={},r.value=!1,s.value=null}}}),wn="modulepreload",En=function(e){return"/"+e},Ve={},In=function(t,n,r){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const h=document.querySelector("meta[property=csp-nonce]"),m=h?.nonce||h?.getAttribute("nonce");s=Promise.allSettled(n.map(o=>{if(o=En(o),o in Ve)return;Ve[o]=!0;const i=o.endsWith(".css"),p=i?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${o}"]${p}`))return;const l=document.createElement("link");if(l.rel=i?"stylesheet":wn,i||(l.as="script"),l.crossOrigin="",l.href=o,m&&l.setAttribute("nonce",m),document.head.appendChild(l),i)return new Promise((u,f)=>{l.addEventListener("load",u),l.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${o}`)))})}))}function c(h){const m=new Event("vite:preloadError",{cancelable:!0});if(m.payload=h,window.dispatchEvent(m),!m.defaultPrevented)throw h}return s.then(h=>{for(const m of h||[])m.status==="rejected"&&c(m.reason);return t().catch(c)})};export{Cn as _,On as a,In as b,bn as c,Pn as d,An as e,kn as u};
