import{d as L,v as C,p as y,o as S,a as F,c as l,b as o,g as e,B as _,E as u,G as m,I as T,J as $,N as f,F as g}from"./auth-tCBxrB_D.js";import{u as B,a as M}from"./preload-helper-IGrWFsVS.js";import{C as V}from"./index-CpkLCnFh.js";import{_ as G}from"./_plugin-vue_export-helper-DlAUqK2U.js";const O={class:"wallet-selector"},z={class:"wallet-info"},H={class:"wallet-avatar-container"},J=["src","alt"],K={key:1,class:"wallet-avatar-fallback"},R={class:"wallet-details"},U={class:"wallet-name"},Y={class:"wallet-chain"},j={key:0,class:"dropdown-menu"},q={class:"wallet-list-container"},P={class:"wallet-list"},Q=["onClick"],X={class:"wallet-avatar-container"},Z=["src","alt"],ee={key:1,class:"wallet-avatar-fallback"},te={class:"wallet-info"},ae={class:"wallet-header"},se={class:"wallet-name"},le={class:"wallet-chain-badge"},oe={class:"wallet-address-row"},ne={class:"wallet-address"},ie=["onClick","title"],ce={key:0,class:"kadena-chain"},re=["onClick"],de=L({__name:"WalletSelector",setup(ue){const p=B(),v=M(),c=C(!1),r=C(null),b=y(()=>v.wallets),i=y(()=>v.currentWallet),h=t=>V[t]?.name||t,W=()=>{c.value=!c.value},d=()=>{c.value=!1},E=t=>{v.setCurrentWallet(t),d()},N=t=>t?t.length<=20?t:`${t.slice(0,10)}...${t.slice(-8)}`:"",x=async(t,s)=>{try{await navigator.clipboard.writeText(t),r.value=s,setTimeout(()=>{r.value=null},2e3)}catch(a){console.error("Failed to copy address:",a);try{const n=document.createElement("textarea");n.value=t,document.body.appendChild(n),n.select(),document.execCommand("copy"),document.body.removeChild(n),r.value=s,setTimeout(()=>{r.value=null},2e3)}catch(n){console.error("Fallback copy failed:",n)}}},k=t=>{const s=t.target;s.style.display="none"},A=t=>{console.log("Manage wallet:",t),d()},D=()=>{p.push("/select-chain"),d()},I=()=>{p.push("/import-wallet"),d()},w=t=>{t.target.closest(".wallet-selector")||d()};return S(()=>{document.addEventListener("click",w)}),F(()=>{document.removeEventListener("click",w)}),(t,s)=>(o(),l("div",O,[e("div",{class:"current-wallet",onClick:W},[e("div",z,[e("div",H,[i.value?.avatar?(o(),l("img",{key:0,src:i.value.avatar,alt:i.value.name,class:"wallet-avatar",onError:k},null,40,J)):(o(),l("div",K,s[0]||(s[0]=[e("i",{class:"ri-wallet-3-line"},null,-1)])))]),e("div",R,[e("span",U,u(i.value?.name||"No Wallet"),1),e("span",Y,u(i.value?h(i.value.chain):""),1)])]),e("i",{class:m(["ri-arrow-down-s-line dropdown-icon",{rotated:c.value}])},null,2)]),c.value?(o(),l("div",j,[e("div",q,[s[3]||(s[3]=e("div",{class:"section-title"},"MY WALLETS",-1)),e("div",P,[(o(!0),l(T,null,$(b.value,a=>(o(),l("div",{key:a.id,class:m(["wallet-item",{active:i.value?.id===a.id}]),onClick:n=>E(a)},[e("div",X,[a.avatar?(o(),l("img",{key:0,src:a.avatar,alt:a.name,class:"wallet-avatar",onError:k},null,40,Z)):(o(),l("div",ee,s[1]||(s[1]=[e("i",{class:"ri-wallet-3-line"},null,-1)])))]),e("div",te,[e("div",ae,[e("span",se,u(a.name),1),e("span",le,u(h(a.chain)),1)]),e("div",oe,[e("span",ne,u(N(a.address)),1),e("button",{class:"copy-address-btn",onClick:f(n=>x(a.address,a.id),["stop"]),title:r.value===a.id?"Copied!":"Copy Address"},[e("i",{class:m(r.value===a.id?"ri-check-line":"ri-file-copy-line")},null,2)],8,ie)]),a.chain==="KDA"&&a.kadena_chain_id!==null?(o(),l("div",ce," Chain ID: "+u(a.kadena_chain_id),1)):_("",!0)]),e("button",{class:"manage-btn",onClick:f(n=>A(a),["stop"])},s[2]||(s[2]=[e("i",{class:"ri-settings-3-line"},null,-1)]),8,re)],10,Q))),128))])]),e("div",{class:"actions"},[e("button",{class:"action-btn create-btn",onClick:D},s[4]||(s[4]=[e("i",{class:"ri-add-line"},null,-1),g(" Create New Wallet ")])),e("button",{class:"action-btn import-btn",onClick:I},s[5]||(s[5]=[e("i",{class:"ri-download-line"},null,-1),g(" Import Wallet ")]))])])):_("",!0),c.value?(o(),l("div",{key:1,class:"backdrop",onClick:d})):_("",!0)]))}}),he=G(de,[["__scopeId","data-v-85904393"]]);export{he as W};
