import{d as D,r,c as P,o as S,g as E,F as g,f as n,i as s,e as m,C as v,G as p,A as w,E as M,n as _,N as R,B as x,H as B,I as L}from"./auth-CcrM1kjR.js";import{u as N}from"./preload-helper-BrVD15Cz.js";import{R as V}from"./ResponsiveLayout-DQ7b-BNd.js";import{_ as $}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./chrome-mock-BLIE_U1K.js";import"./index-DSub5CB9.js";const K={class:"page-header"},A={class:"header-left"},F={class:"page-content"},U={class:"form-container"},W={key:0,class:"selected-chain-info"},J=["src","alt"],O={class:"chain-details"},T={class:"chain-name"},q={class:"chain-code"},z={class:"form-group"},G={key:0,class:"error-message"},H={class:"form-group"},j={class:"password-input-container"},Q=["type"],X={key:0,class:"error-message"},Y={key:1,class:"form-group"},Z=["value"],ee={key:2,class:"error-message"},se={class:"footer"},oe=["disabled"],te=D({__name:"ImportMnemonicInput",setup(ae){const y=N(),a=r(null),l=r(""),i=r(""),f=r("0"),h=r(!1),u=r(""),c=r(""),d=r(""),b=P(()=>a.value&&l.value.trim()&&i.value.trim()&&!c.value&&!d.value),k=()=>l.value.trim().split(/\s+/).length!==12?(c.value="Recovery phrase must contain exactly 12 words",!1):(c.value="",!0),I=()=>i.value.length<6?(d.value="Password must be at least 6 characters",!1):(d.value="",!0),C=async()=>{if(!(!k()||!I()))try{u.value="";const o={mnemonic:l.value.trim(),chain:a.value.chain,payment_password:i.value,kadena_chain_id:a.value.chain==="KDA"?f.value:"0"};console.log("Starting mnemonic import with data:",o),console.log("Redirecting to loading page for mnemonic import and balance refresh"),await y.push({name:"WalletImportLoading",query:{importType:"mnemonic",importData:JSON.stringify(o)}})}catch(o){const e=o instanceof Error?o.message:"Import failed";e.toLowerCase().includes("password")?u.value="Incorrect password. Please check your payment password.":e.toLowerCase().includes("mnemonic")?u.value="Invalid recovery phrase. Please check your mnemonic words.":u.value=e,console.error("Import mnemonic error:",o)}};return S(()=>{const o=sessionStorage.getItem("mnemonic_selected_chain");if(o)try{a.value=JSON.parse(o)}catch(e){console.error("Failed to parse chain data:",e),sessionStorage.setItem("import_type","mnemonic"),y.push("/import-private-key-select-chain")}else sessionStorage.setItem("import_type","mnemonic"),y.push("/import-private-key-select-chain");l.value&&k(),i.value&&I()}),(o,e)=>(n(),E(V,{title:"Import Recovery Phrase","show-header":!0,"show-footer":!0,scrollable:!0,onBack:e[5]||(e[5]=t=>o.$router.go(-1))},{header:g(()=>[s("div",K,[s("div",A,[s("button",{onClick:e[0]||(e[0]=t=>o.$router.go(-1)),class:"back-button"},e[6]||(e[6]=[s("i",{class:"ri-arrow-left-line"},null,-1)])),e[7]||(e[7]=s("h1",{class:"header-title"},"Import Recovery Phrase",-1))])])]),footer:g(()=>[s("div",se,[s("button",{class:"import-btn",disabled:!b.value,onClick:C}," Import Wallet ",8,oe)])]),default:g(()=>[s("div",F,[s("div",U,[a.value?(n(),m("div",W,[s("img",{src:a.value.logo,alt:a.value.name,class:"chain-logo"},null,8,J),s("div",O,[s("span",T,p(a.value.name),1),s("span",q,p(a.value.chain),1)])])):v("",!0),s("div",z,[e[8]||(e[8]=s("label",null,"Recovery Phrase",-1)),e[9]||(e[9]=s("p",{class:"form-hint"},"Enter your 12-word recovery phrase, separated by spaces",-1)),w(s("textarea",{"onUpdate:modelValue":e[1]||(e[1]=t=>l.value=t),class:_(["mnemonic-input",{error:c.value}]),placeholder:"Enter your 12-word recovery phrase...",rows:"4"},null,2),[[M,l.value]]),c.value?(n(),m("div",G,p(c.value),1)):v("",!0)]),s("div",H,[e[10]||(e[10]=s("label",null,"Payment Password",-1)),e[11]||(e[11]=s("p",{class:"form-hint"},"Enter your payment password to protect the wallet",-1)),s("div",j,[w(s("input",{"onUpdate:modelValue":e[2]||(e[2]=t=>i.value=t),type:h.value?"text":"password",class:_(["password-input",{error:d.value}]),placeholder:"Enter payment password"},null,10,Q),[[R,i.value]]),s("button",{type:"button",class:"password-toggle",onClick:e[3]||(e[3]=t=>h.value=!h.value)},[s("i",{class:_(h.value?"ri-eye-off-line":"ri-eye-line")},null,2)])]),d.value?(n(),m("div",X,p(d.value),1)):v("",!0)]),a.value?.chain==="KDA"?(n(),m("div",Y,[e[12]||(e[12]=s("label",null,"Kadena Chain ID",-1)),e[13]||(e[13]=s("p",{class:"form-hint"},"Select the Kadena chain ID (0-19)",-1)),w(s("select",{"onUpdate:modelValue":e[4]||(e[4]=t=>f.value=t),class:"kadena-select"},[(n(),m(B,null,L(20,t=>s("option",{key:t-1,value:(t-1).toString()}," Chain "+p(t-1),9,Z)),64))],512),[[x,f.value]])])):v("",!0),u.value?(n(),m("div",ee,p(u.value),1)):v("",!0)])])]),_:1}))}}),de=$(te,[["__scopeId","data-v-ef9fc785"]]);export{de as default};
