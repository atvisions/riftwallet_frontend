import{d as _,f as y,b as i,k as n,q as s,D as f,u as g,H as h,A as b,y as P,M as V,E as v,l as d}from"./main-Bf4zo9mQ.js";import{a as k,_ as E,u as S}from"./popup-TD7wOOC_.js";import{A}from"./index-DcL2QsEm.js";import{_ as C}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./chrome-mock-B1Y85l16.js";const N={class:"verify-password-page"},x={class:"header-section"},D={class:"app-name"},M={class:"form-section"},B={class:"input-group"},I={class:"input-wrapper"},H=["type"],R={key:0,class:"error-message"},W=["disabled"],q={key:0,class:"loading-spinner"},z={key:1},F=_({__name:"VerifyPassword",setup(G){const c=S(),w=y(),u=k(),a=i(""),t=i(!1),r=i(!1),o=i(""),m=async()=>{if(a.value)try{r.value=!0,o.value="",await w.verifyPaymentPassword(a.value)?(console.log("Password verification successful, checking wallet status"),await u.loadWallets(),u.wallets.length>0?(console.log("Has wallets, redirecting to home from verify password"),await c.replace("/")):(console.log("No wallets, redirecting to wallet choice from verify password"),await c.replace("/wallet-choice"))):o.value="Invalid password. Please try again."}catch(l){o.value=l instanceof Error?l.message:"Verification failed"}finally{r.value=!1}};return(l,e)=>(d(),n("div",N,[s("div",x,[e[2]||(e[2]=s("div",{class:"logo-container"},[s("img",{src:E,alt:"Riftwallet",class:"logo"})],-1)),s("h1",D,f(g(A).NAME),1),e[3]||(e[3]=s("p",{class:"form-description"}," Enter your password to access your wallet ",-1))]),s("div",M,[s("form",{onSubmit:h(m,["prevent"]),class:"password-form"},[s("div",B,[e[4]||(e[4]=s("label",{for:"password"},"Password",-1)),s("div",I,[P(s("input",{id:"password","onUpdate:modelValue":e[0]||(e[0]=p=>a.value=p),type:t.value?"text":"password",placeholder:"Enter your password",class:v(["password-input",{error:o.value}]),autofocus:""},null,10,H),[[V,a.value]]),s("button",{type:"button",onClick:e[1]||(e[1]=p=>t.value=!t.value),class:"toggle-password"},[s("i",{class:v(t.value?"ri-eye-off-line":"ri-eye-line")},null,2)])]),o.value?(d(),n("div",R,f(o.value),1)):b("",!0)]),s("button",{type:"submit",disabled:!a.value||r.value,class:"submit-btn"},[r.value?(d(),n("div",q)):(d(),n("span",z,"Verify Password"))],8,W)],32)])]))}}),K=C(F,[["__scopeId","data-v-2ccb8580"]]);export{K as default};
