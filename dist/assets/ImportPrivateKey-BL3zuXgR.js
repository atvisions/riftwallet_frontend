import{d as D,r as o,c as $,g as W,F as S,f as l,i as t,e as n,C as g,I as B,H as E,G as i,A as C,E as L,n as m,B as N,M as V,J as H}from"./auth-DRfzTYJF.js";import{a as T,u as F}from"./preload-helper-DtVLuan9.js";import{R as M}from"./ResponsiveLayout-NikCG07L.js";import{_ as O}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./chrome-mock-0jeXDaAI.js";const R={class:"page-header"},U={class:"header-left"},z={class:"page-content"},J={class:"form-container"},G={class:"form-group"},Z={class:"chain-selector"},j=["onClick"],q=["src","alt"],Q={class:"chain-name"},X={class:"chain-code"},Y={class:"form-group"},ee={class:"form-hint"},te={class:"private-key-input-container"},ae=["type"],se={key:0,class:"error-message"},oe={key:0,class:"form-group"},le=["value"],re={class:"form-group"},ne={class:"password-input-container"},ie=["type"],de={key:0,class:"error-message"},ue=["disabled"],ce={key:0,class:"ri-loader-4-line spinning"},pe={key:1,class:"ri-key-line"},ve={key:1,class:"error-alert"},me=D({__name:"ImportPrivateKey",setup(he){const b=F(),h=T(),r=o("ETH"),u=o(""),c=o(""),_=o("0"),y=o(!1),f=o(!1),p=o(!1),w=o(""),d=o(""),v=o(""),K=[{code:"ETH",name:"Ethereum",logo:"https://www.riftwallet.io/media/chain_logos/ETH.png"},{code:"BSC",name:"BNB Chain",logo:"https://www.riftwallet.io/media/chain_logos/BSC.png"},{code:"BASE",name:"Base",logo:"https://www.riftwallet.io/media/chain_logos/BASE.png"},{code:"SOL",name:"Solana",logo:"https://www.riftwallet.io/media/chain_logos/SOL.png"},{code:"KDA",name:"Kadena",logo:"https://www.riftwallet.io/media/chain_logos/KDA.png"}],I=$(()=>u.value.trim()&&c.value.trim()&&r.value),P=()=>{const s=u.value.trim().replace(/^0x/,"");if(r.value==="SOL"){if(!/^[1-9A-HJ-NP-Za-km-z]{87,88}$/.test(s)&&!/^[a-fA-F0-9]{64}$/.test(s))return d.value="Solana private key must be Base58 encoded (87-88 characters) or 64-character hexadecimal string",!1}else if(!/^[a-fA-F0-9]{64}$/.test(s))return d.value="Private key must be a 64-character hexadecimal string",!1;return d.value="",!0},x=()=>c.value.length<8?(v.value="Password must be at least 8 characters",!1):(v.value="",!0),A=async()=>{if(!(!P()||!x()))try{p.value=!0,w.value="";const s={private_key:u.value.trim().replace(/^0x/,""),chain:r.value,payment_password:c.value,kadena_chain_id:r.value==="KDA"?_.value:"0"},e=await h.importWallet(s);await h.loadWallets();const a=h.wallets.find(k=>k.address===e.address&&k.chain===e.chain);a&&(h.setCurrentWallet(a),console.log("Wallet import completed, redirecting to home")),b.push("/")}catch(s){w.value=s instanceof Error?s.message:"Import failed, please check if the private key is correct"}finally{p.value=!1}};return(s,e)=>(l(),W(M,{title:"Import Private Key","show-header":!0,"show-footer":!0,scrollable:!0,onBack:e[6]||(e[6]=a=>s.$router.go(-1))},{header:S(()=>[t("div",R,[t("div",U,[t("button",{onClick:e[0]||(e[0]=a=>s.$router.go(-1)),class:"back-button"},e[7]||(e[7]=[t("i",{class:"ri-arrow-left-line"},null,-1)])),e[8]||(e[8]=t("h1",{class:"header-title"},"Import Private Key",-1))])])]),default:S(()=>[t("div",z,[t("div",J,[t("div",G,[e[9]||(e[9]=t("label",null,"Select Blockchain Network",-1)),t("div",Z,[(l(),n(E,null,B(K,a=>t("div",{key:a.code,class:m(["chain-option",{active:r.value===a.code}]),onClick:k=>r.value=a.code},[t("img",{src:a.logo,alt:a.name,class:"chain-logo"},null,8,q),t("span",Q,i(a.name),1),t("span",X,i(a.code),1)],10,j)),64))])]),t("div",Y,[e[10]||(e[10]=t("label",null,"Private Key",-1)),t("p",ee,i(r.value==="SOL"?"Enter your private key (Base58 encoded or 64-character hexadecimal string)":"Enter your private key (64-character hexadecimal string)"),1),t("div",te,[C(t("textarea",{"onUpdate:modelValue":e[1]||(e[1]=a=>u.value=a),type:y.value?"text":"password",class:m(["private-key-input",{error:d.value}]),placeholder:"Enter your private key...",rows:"3"},null,10,ae),[[L,u.value]]),t("button",{type:"button",class:"private-key-toggle",onClick:e[2]||(e[2]=a=>y.value=!y.value)},[t("i",{class:m(y.value?"ri-eye-off-line":"ri-eye-line")},null,2)])]),d.value?(l(),n("div",se,i(d.value),1)):g("",!0)]),r.value==="KDA"?(l(),n("div",oe,[e[11]||(e[11]=t("label",null,"Kadena Chain ID",-1)),e[12]||(e[12]=t("p",{class:"form-hint"},"Select Kadena Chain ID (0-19)",-1)),C(t("select",{"onUpdate:modelValue":e[3]||(e[3]=a=>_.value=a),class:"chain-id-select"},[(l(),n(E,null,B(20,a=>t("option",{key:a-1,value:(a-1).toString()},"Chain "+i(a-1),9,le)),64))],512),[[N,_.value]])])):g("",!0),t("div",re,[e[13]||(e[13]=t("label",null,"Payment Password",-1)),e[14]||(e[14]=t("p",{class:"form-hint"},"Enter your payment password to protect the wallet",-1)),t("div",ne,[C(t("input",{"onUpdate:modelValue":e[4]||(e[4]=a=>c.value=a),type:f.value?"text":"password",class:m(["password-input",{error:v.value}]),placeholder:"Enter payment password"},null,10,ie),[[V,c.value]]),t("button",{type:"button",class:"password-toggle",onClick:e[5]||(e[5]=a=>f.value=!f.value)},[t("i",{class:m(f.value?"ri-eye-off-line":"ri-eye-line")},null,2)])]),v.value?(l(),n("div",de,i(v.value),1)):g("",!0)]),t("button",{class:"import-btn",disabled:!I.value||p.value,onClick:A},[p.value?(l(),n("i",ce)):(l(),n("i",pe)),H(" "+i(p.value?"Importing...":"Import Wallet"),1)],8,ue),w.value?(l(),n("div",ve,[e[15]||(e[15]=t("i",{class:"ri-error-warning-line"},null,-1)),t("span",null,i(w.value),1)])):g("",!0)])])]),_:1}))}}),ke=O(me,[["__scopeId","data-v-74193a8d"]]);export{ke as default};
