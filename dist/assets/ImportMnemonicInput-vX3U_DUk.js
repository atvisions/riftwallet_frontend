import{d as E,r as n,c as S,o as R,g as x,F as g,f as r,i as e,e as i,C as c,G as l,A as I,E as L,n as _,L as M,H as $,I as K}from"./auth-6eK4OsPi.js";import{u as B}from"./auth-handler-CmfhYZP0.js";import{R as N}from"./ResponsiveLayout-bP3B-uVa.js";import{_ as V}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./chrome-mock-BbAbqiJG.js";const A={class:"page-header"},F={class:"header-left"},W={class:"form-container"},J={key:0,class:"selected-chain-info"},O=["src","alt"],T={class:"chain-details"},U={class:"chain-name"},q={class:"chain-code"},z={class:"form-group"},G={key:0,class:"error-message"},H={class:"form-group"},j={class:"password-input-container"},Q=["type"],X={key:0,class:"error-message"},Y={key:1,class:"form-group"},Z={class:"chain-selector-container"},ee={class:"selected-chain-id"},se={class:"chain-id-info"},oe={class:"chain-id-label"},ae={class:"chain-id-desc"},te={key:0,class:"chain-dropdown"},ne=["onClick"],re={class:"chain-info"},le={class:"chain-label"},ie={class:"chain-desc"},ce={key:0,class:"ri-check-line"},de={key:2,class:"error-message"},ue={class:"footer"},ve=["disabled"],me=E({__name:"ImportMnemonicInput",setup(pe){const w=B(),t=n(null),d=n(""),u=n(""),v=n("0"),y=n(!1),f=n(!1),m=n(""),p=n(""),h=n(""),b=S(()=>t.value&&d.value.trim()&&u.value.trim()&&!p.value&&!h.value),k=()=>d.value.trim().split(/\s+/).length!==12?(p.value="Recovery phrase must contain exactly 12 words",!1):(p.value="",!0),C=()=>u.value.length<6?(h.value="Password must be at least 6 characters",!1):(h.value="",!0),D=o=>{v.value=o,f.value=!1},P=async()=>{if(!(!k()||!C()))try{m.value="";const o={mnemonic:d.value.trim(),chain:t.value.chain,payment_password:u.value,kadena_chain_id:t.value.chain==="KDA"?v.value:"0"};console.log("Starting mnemonic import with data:",o),console.log("Redirecting to loading page for mnemonic import and balance refresh"),await w.push({name:"WalletImportLoading",query:{importType:"mnemonic",importData:JSON.stringify(o)}})}catch(o){const s=o instanceof Error?o.message:"Import failed";s.toLowerCase().includes("password")?m.value="Incorrect password. Please check your payment password.":s.toLowerCase().includes("mnemonic")?m.value="Invalid recovery phrase. Please check your mnemonic words.":m.value=s,console.error("Import mnemonic error:",o)}};return R(()=>{const o=sessionStorage.getItem("mnemonic_selected_chain");if(o)try{t.value=JSON.parse(o)}catch(s){console.error("Failed to parse chain data:",s),w.push("/select-chain?mode=import-mnemonic")}else w.push("/select-chain?mode=import-mnemonic");d.value&&k(),u.value&&C()}),(o,s)=>(r(),x(N,{title:"Import Recovery Phrase","show-header":!0,"show-footer":!0,scrollable:!0,padding:"16px",onBack:s[5]||(s[5]=a=>o.$router.go(-1))},{header:g(()=>[e("div",A,[e("div",F,[e("button",{onClick:s[0]||(s[0]=a=>o.$router.go(-1)),class:"back-button"},s[6]||(s[6]=[e("i",{class:"ri-arrow-left-line"},null,-1)])),s[7]||(s[7]=e("h1",{class:"header-title"},"Import Recovery Phrase",-1))])])]),footer:g(()=>[e("div",ue,[e("button",{class:"import-btn",disabled:!b.value,onClick:P}," Import Wallet ",8,ve)])]),default:g(()=>[e("div",W,[t.value?(r(),i("div",J,[e("img",{src:t.value.logo,alt:t.value.name,class:"chain-logo"},null,8,O),e("div",T,[e("span",U,l(t.value.name),1),e("span",q,l(t.value.chain),1)])])):c("",!0),e("div",z,[s[8]||(s[8]=e("label",null,"Recovery Phrase",-1)),s[9]||(s[9]=e("p",{class:"form-hint"},"Enter your 12-word recovery phrase, separated by spaces",-1)),I(e("textarea",{"onUpdate:modelValue":s[1]||(s[1]=a=>d.value=a),class:_(["mnemonic-input",{error:p.value}]),placeholder:"Enter your 12-word recovery phrase...",rows:"4"},null,2),[[L,d.value]]),p.value?(r(),i("div",G,l(p.value),1)):c("",!0)]),e("div",H,[s[10]||(s[10]=e("label",null,"Payment Password",-1)),s[11]||(s[11]=e("p",{class:"form-hint"},"Enter your payment password to protect the wallet",-1)),e("div",j,[I(e("input",{"onUpdate:modelValue":s[2]||(s[2]=a=>u.value=a),type:y.value?"text":"password",class:_(["password-input",{error:h.value}]),placeholder:"Enter payment password"},null,10,Q),[[M,u.value]]),e("button",{type:"button",class:"password-toggle",onClick:s[3]||(s[3]=a=>y.value=!y.value)},[e("i",{class:_(y.value?"ri-eye-off-line":"ri-eye-line")},null,2)])]),h.value?(r(),i("div",X,l(h.value),1)):c("",!0)]),t.value?.chain==="KDA"?(r(),i("div",Y,[s[14]||(s[14]=e("label",null,"Kadena Chain ID",-1)),s[15]||(s[15]=e("p",{class:"form-hint"},"Select the Kadena chain ID (0-19)",-1)),e("div",Z,[e("div",{class:"chain-id-selector",onClick:s[4]||(s[4]=a=>f.value=!f.value)},[e("div",ee,[s[12]||(s[12]=e("div",{class:"chain-id-icon"},[e("i",{class:"ri-link"})],-1)),e("div",se,[e("div",oe,"Chain "+l(v.value),1),e("div",ae,"Kadena Chain "+l(v.value),1)])]),e("i",{class:_(["ri-arrow-down-s-line dropdown-icon",{rotated:f.value}])},null,2)]),f.value?(r(),i("div",te,[(r(),i($,null,K(20,a=>e("div",{key:a-1,onClick:he=>D((a-1).toString()),class:_(["chain-option",{selected:v.value===(a-1).toString()}])},[s[13]||(s[13]=e("div",{class:"chain-icon"},[e("i",{class:"ri-link"})],-1)),e("div",re,[e("div",le,"Chain "+l(a-1),1),e("div",ie,"Kadena Chain "+l(a-1),1)]),v.value===(a-1).toString()?(r(),i("i",ce)):c("",!0)],10,ne)),64))])):c("",!0)])])):c("",!0),m.value?(r(),i("div",de,l(m.value),1)):c("",!0)])]),_:1}))}}),ke=V(me,[["__scopeId","data-v-c03a1ab1"]]);export{ke as default};
