import{d as D,r,q as P,o as x,f as S,E as I,e as n,h as o,c as m,B as v,G as p,z as w,D as E,F as _,L as M,A as B,H as L,I as R}from"./auth-B5jpq_BM.js";import{u as V}from"./preload-helper-BHn8pG3Y.js";import{P as K}from"./PageContainer-Qetv8PV3.js";import{_ as N}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./chrome-mock-BLIE_U1K.js";import"./index-DSub5CB9.js";const A={class:"form-container"},F={key:0,class:"selected-chain-info"},U=["src","alt"],W={class:"chain-details"},q={class:"chain-name"},z={class:"chain-code"},J={class:"form-group"},O={key:0,class:"error-message"},T={class:"form-group"},$={class:"password-input-container"},G=["type"],H={key:0,class:"error-message"},j={key:1,class:"form-group"},Q=["value"],X={key:2,class:"error-message"},Y={class:"footer"},Z=["disabled"],ee=D({__name:"ImportMnemonicInput",setup(oe){const y=V(),s=r(null),l=r(""),i=r(""),f=r("0"),h=r(!1),c=r(""),u=r(""),d=r(""),b=P(()=>s.value&&l.value.trim()&&i.value.trim()&&!u.value&&!d.value),g=()=>l.value.trim().split(/\s+/).length!==12?(u.value="Recovery phrase must contain exactly 12 words",!1):(u.value="",!0),k=()=>i.value.length<6?(d.value="Password must be at least 6 characters",!1):(d.value="",!0),C=async()=>{if(!(!g()||!k()))try{c.value="";const t={mnemonic:l.value.trim(),chain:s.value.chain,payment_password:i.value,kadena_chain_id:s.value.chain==="KDA"?f.value:"0"};console.log("Starting mnemonic import with data:",t),console.log("Redirecting to loading page for mnemonic import and balance refresh"),await y.push({name:"WalletImportLoading",query:{importType:"mnemonic",importData:JSON.stringify(t)}})}catch(t){const e=t instanceof Error?t.message:"Import failed";e.toLowerCase().includes("password")?c.value="Incorrect password. Please check your payment password.":e.toLowerCase().includes("mnemonic")?c.value="Invalid recovery phrase. Please check your mnemonic words.":c.value=e,console.error("Import mnemonic error:",t)}};return x(()=>{const t=sessionStorage.getItem("mnemonic_selected_chain");if(t)try{s.value=JSON.parse(t)}catch(e){console.error("Failed to parse chain data:",e),sessionStorage.setItem("import_type","mnemonic"),y.push("/import-private-key-select-chain")}else sessionStorage.setItem("import_type","mnemonic"),y.push("/import-private-key-select-chain");l.value&&g(),i.value&&k()}),(t,e)=>(n(),S(K,{title:"Import Recovery Phrase","show-header":!0,"show-footer":!0,"show-back-button":!0,"custom-back-action":()=>t.$router.go(-1),"max-width":"420px",padding:"24px",centered:!0},{footer:I(()=>[o("div",Y,[o("button",{class:"import-btn",disabled:!b.value,onClick:C}," Import Wallet ",8,Z)])]),default:I(()=>[o("div",A,[s.value?(n(),m("div",F,[o("img",{src:s.value.logo,alt:s.value.name,class:"chain-logo"},null,8,U),o("div",W,[o("span",q,p(s.value.name),1),o("span",z,p(s.value.chain),1)])])):v("",!0),o("div",J,[e[4]||(e[4]=o("label",null,"Recovery Phrase",-1)),e[5]||(e[5]=o("p",{class:"form-hint"},"Enter your 12-word recovery phrase, separated by spaces",-1)),w(o("textarea",{"onUpdate:modelValue":e[0]||(e[0]=a=>l.value=a),class:_(["mnemonic-input",{error:u.value}]),placeholder:"Enter your 12-word recovery phrase...",rows:"4"},null,2),[[E,l.value]]),u.value?(n(),m("div",O,p(u.value),1)):v("",!0)]),o("div",T,[e[6]||(e[6]=o("label",null,"Payment Password",-1)),e[7]||(e[7]=o("p",{class:"form-hint"},"Enter your payment password to protect the wallet",-1)),o("div",$,[w(o("input",{"onUpdate:modelValue":e[1]||(e[1]=a=>i.value=a),type:h.value?"text":"password",class:_(["password-input",{error:d.value}]),placeholder:"Enter payment password"},null,10,G),[[M,i.value]]),o("button",{type:"button",class:"password-toggle",onClick:e[2]||(e[2]=a=>h.value=!h.value)},[o("i",{class:_(h.value?"ri-eye-off-line":"ri-eye-line")},null,2)])]),d.value?(n(),m("div",H,p(d.value),1)):v("",!0)]),s.value?.chain==="KDA"?(n(),m("div",j,[e[8]||(e[8]=o("label",null,"Kadena Chain ID",-1)),e[9]||(e[9]=o("p",{class:"form-hint"},"Select the Kadena chain ID (0-19)",-1)),w(o("select",{"onUpdate:modelValue":e[3]||(e[3]=a=>f.value=a),class:"kadena-select"},[(n(),m(L,null,R(20,a=>o("option",{key:a-1,value:(a-1).toString()}," Chain "+p(a-1),9,Q)),64))],512),[[B,f.value]])])):v("",!0),c.value?(n(),m("div",X,p(c.value),1)):v("",!0)])]),_:1},8,["custom-back-action"]))}}),ie=N(ee,[["__scopeId","data-v-0f6f8273"]]);export{ie as default};
