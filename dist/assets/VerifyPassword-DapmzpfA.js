import{d as _,u as y,v as i,c as n,g as s,E as f,f as g,N as h,B as P,z as b,M as V,G as v,b as d}from"./auth-tCBxrB_D.js";import{_ as k}from"./icon128-CuYnzOPO.js";import{a as E,u as N}from"./preload-helper-IGrWFsVS.js";import{A as S}from"./index-CpkLCnFh.js";import{_ as C}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./chrome-mock-BOlt1wEj.js";const x={class:"verify-password-page"},A={class:"header-section"},B={class:"app-name"},M={class:"form-section"},D={class:"input-group"},I={class:"input-wrapper"},z=["type"],G={key:0,class:"error-message"},R=["disabled"],W={key:0,class:"loading-spinner"},F={key:1},H=_({__name:"VerifyPassword",setup(O){const c=N(),w=y(),u=E(),a=i(""),t=i(!1),r=i(!1),o=i(""),m=async()=>{if(a.value)try{r.value=!0,o.value="",await w.verifyPaymentPassword(a.value)?(console.log("Password verification successful, checking wallet status"),await u.loadWallets(),u.wallets.length>0?(console.log("Has wallets, redirecting to home from verify password"),await c.replace("/")):(console.log("No wallets, redirecting to wallet choice from verify password"),await c.replace("/wallet-choice"))):o.value="Invalid password. Please try again."}catch(l){o.value=l instanceof Error?l.message:"Verification failed"}finally{r.value=!1}};return(l,e)=>(d(),n("div",x,[s("div",A,[e[2]||(e[2]=s("div",{class:"logo-container"},[s("img",{src:k,alt:"Riftwallet",class:"logo"})],-1)),s("h1",B,f(g(S).NAME),1),e[3]||(e[3]=s("p",{class:"form-description"}," Enter your password to access your wallet ",-1))]),s("div",M,[s("form",{onSubmit:h(m,["prevent"]),class:"password-form"},[s("div",D,[e[4]||(e[4]=s("label",{for:"password"},"Password",-1)),s("div",I,[b(s("input",{id:"password","onUpdate:modelValue":e[0]||(e[0]=p=>a.value=p),type:t.value?"text":"password",placeholder:"Enter your password",class:v(["password-input",{error:o.value}]),autofocus:""},null,10,z),[[V,a.value]]),s("button",{type:"button",onClick:e[1]||(e[1]=p=>t.value=!t.value),class:"toggle-password"},[s("i",{class:v(t.value?"ri-eye-off-line":"ri-eye-line")},null,2)])]),o.value?(d(),n("div",G,f(o.value),1)):P("",!0)]),s("button",{type:"submit",disabled:!a.value||r.value,class:"submit-btn"},[r.value?(d(),n("div",W)):(d(),n("span",F,"Verify Password"))],8,R)],32)])]))}}),L=C(H,[["__scopeId","data-v-532133f9"]]);export{L as default};
